{"version":3,"sources":["Authorization.jsx","LoadingIndicator.jsx","ErrorPopup.jsx","AddEventCard.jsx","TextField.jsx","utils.js","AddEventDialog.jsx","EventCard.jsx","EventDetails.jsx","Events.jsx","App.js","index.js","config.js"],"names":["Authorization","contract","currentUser","nearConfig","wallet","useState","isShowing","setIsShowing","useTimeoutFn","resetIsShowing","useEffect","as","Fragment","show","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","className","src","alt","onClick","signOut","window","location","replace","origin","pathname","requestSignIn","contractName","LoadingIndicator","isLoading","ErrorPopup","error","callback","closeModal","appear","onClose","Child","Overlay","Title","type","AddEventCard","onAddEvent","isHovered","setIsHovered","onMouseEnter","onMouseLeave","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","TextField","label","value","lines","onValueChange","isDate","placeholder","htmlFor","onChange","date","name","id","rows","getConfig","formatDate","format","toDate","timestamp","Math","floor","toFixed","moment","BOATLOAD_OF_GAS","Big","times","delimiters","AddEventDialog","isOpen","onRegister","title","setTitle","description","setDescription","text","rewards","setRewards","participants","setParticipants","allowDuplicates","setAllowDuplicates","add","endOf","eventDate","setEventDate","startOf","addParticipantsStartDate","setAddParticipantsStartDate","addParticipantsEndDate","setAddParticipantsEndDate","canAddEvent","length","e","target","Group","Label","checked","ReactTags","tags","handleDelete","i","filter","r","index","handleAddition","inputFieldPosition","allowUnique","allowDragDrop","p","handleDrag","tag","currPos","newPos","newTags","slice","splice","disabled","EventCard","currentEvent","delay","onLoading","onEventSelected","event","setEvent","event_timestamp","finalizedDate","finalized_timestamp","undefined","add_participants_start_timestamp","add_participants_end_timestamp","get_event","event_id","then","err","map","Participant","participant","EventDetails","onError","closeButtonColor","setCloseButtonColor","shouldReloadEvent","setShouldReloadEvent","newParticipants","setNewParticipants","isOwner","owner_account_id","accountId","eventId","kind","isBefore","finalize_event","inline","insert_participants","Events","events","setEvents","fromIndex","limit","shouldReloadEvents","setShouldReloadEvents","selectedEvent","setSelectedEvent","isNewEventDialogOpen","setIsNewEventDialogOpen","activateEvent","election","localStorage","setItem","toNano","get_events","from_index","totalRewards","reduce","a","b","parseInt","add_event","event_input","allow_duplicate_participants","removeItem","App","setIsLoading","setError","nearAPI","deps","keyStore","BrowserLocalStorageKeyStore","near","walletConnection","getAccountId","account","state","amount","balance","viewMethods","changeMethods","sender","nearInitPromise","initContract","ReactDOM","render","document","getElementById","CONTRACT_NAME","process","module","exports","env","networkId","nodeUrl","walletUrl","helperUrl","explorerUrl","keyPath","HOME","masterAccount","Error"],"mappings":"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","file":"static/js/main.1b62fb45.chunk.js","sourcesContent":["import { Fragment, useState, useEffect } from \"react\";\nimport { useTimeoutFn } from \"react-use\";\nimport { Transition } from \"@headlessui/react\";\n\nconst Authorization = ({ contract, currentUser, nearConfig, wallet }) => {\n  const signIn = () => {\n    wallet.requestSignIn(nearConfig.contractName, \"NEAR Giveway\");\n  };\n\n  const signOut = () => {\n    wallet.signOut();\n    window.location.replace(window.location.origin + window.location.pathname);\n  };\n\n  let [isShowing, setIsShowing] = useState(true);\n  let [, , resetIsShowing] = useTimeoutFn(() => setIsShowing(true), 500);\n\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n\n  return (\n    <>\n      <Transition\n        as={Fragment}\n        show={isShowing}\n        enter=\"transform transition duration-[500ms]\"\n        enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n        enterTo=\"opacity-100 rotate-0 scale-100\"\n        leave=\"transform duration-200 transition ease-in-out\"\n        leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n        leaveTo=\"opacity-0 scale-95 \"\n      >\n        <div className=\"flex justify-between bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 mt-6 p-2 mx-auto rounded-xl shadow-md items-center\">\n          <img\n            className=\"h-14 w-20\"\n            src=\"https://docs.near.org/img/near_logo.svg\"\n            alt=\"NEAR Logo\"\n          />\n\n          <div className={`text-xl font-medium text-black uppercase`}>\n            NEAR Giveaway\n          </div>\n          <div className=\"flex justify-between\">\n            {currentUser ? (\n              <button\n                className=\"bg-gradient-to-r from-indigo-400 to-indigo-500 hover:from-indigo-700 hover:to-indigo-900 text-black hover:text-white py-2 px-4 rounded float-right\"\n                onClick={signOut}\n              >\n                Logout\n              </button>\n            ) : (\n              <button\n                className=\"bg-gradient-to-r from-indigo-400 to-indigo-500 hover:from-indigo-700 hover:to-indigo-900 text-black hover:text-white py-2 px-4 rounded float-right\"\n                onClick={signIn}\n              >\n                Login\n              </button>\n            )}\n          </div>\n        </div>\n      </Transition>\n    </>\n  );\n};\n\nexport default Authorization;\n","const LoadingIndicator = ({ isLoading }) => {\n  return (\n    <>\n      {isLoading ? (\n        <div className=\"my-4 mx-auto loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12\"></div>\n      ) : (\n        <div className=\"my-4 h-12 w-12\"></div>\n      )}\n    </>\n  );\n};\n\nexport default LoadingIndicator;\n","import { Dialog, Transition } from \"@headlessui/react\";\nimport { Fragment } from \"react\";\n\nexport default function ErrorPopup({ error, callback }) {\n  function closeModal() {\n    callback();\n  }\n\n  return (\n    <>\n      <Transition appear show={error !== \"\"} as={Fragment}>\n        <Dialog\n          as=\"div\"\n          className=\"fixed inset-0 z-10 overflow-y-auto\"\n          onClose={closeModal}\n        >\n          <div className=\"min-h-screen px-4 text-center\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0\"\n              enterTo=\"opacity-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100\"\n              leaveTo=\"opacity-0\"\n            >\n              <Dialog.Overlay className=\"fixed inset-0\" />\n            </Transition.Child>\n\n            {/* This element is to trick the browser into centering the modal contents. */}\n            <span\n              className=\"inline-block h-screen align-middle\"\n              aria-hidden=\"true\"\n            >\n              &#8203;\n            </span>\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <div className=\"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl\">\n                <Dialog.Title\n                  as=\"h3\"\n                  className=\"text-lg font-medium leading-6 text-gray-900\"\n                >\n                  Opps, something went wrong\n                </Dialog.Title>\n                <div className=\"mt-2\">\n                  <p className=\"text-sm text-gray-500\">{error}</p>\n                </div>\n\n                <div className=\"mt-4\">\n                  <button\n                    type=\"button\"\n                    className=\"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500\"\n                    onClick={closeModal}\n                  >\n                    Close\n                  </button>\n                </div>\n              </div>\n            </Transition.Child>\n          </div>\n        </Dialog>\n      </Transition>\n    </>\n  );\n}\n","import { Fragment, useEffect, useState } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport { useTimeoutFn } from \"react-use\";\n\nconst AddEventCard = ({ onAddEvent }) => {\n  let [isShowing, setIsShowing] = useState(false);\n  let [isHovered, setIsHovered] = useState(false);\n\n  let [, , resetIsShowing] = useTimeoutFn(() => setIsShowing(true), 100);\n\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n  return (\n    <Transition\n      as={Fragment}\n      show={isShowing}\n      enter={`transform transition duration-[200ms]`}\n      enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n      enterTo=\"opacity-100 rotate-0 scale-100\"\n      leave=\"transform duration-200 transition ease-in-out\"\n      leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n      leaveTo=\"opacity-0 scale-95 \"\n    >\n      <button\n        onClick={onAddEvent}\n        className={`w-full bg-gradient-to-r ${\n          isHovered\n            ? \"from-green-300 to-blue-500\"\n            : \"from-green-100 to-blue-300\"\n        } p-6 mx-auto max-w-sm rounded-xl shadow-md cursor-pointer`}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"h-6 w-6 mx-auto\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M12 4v16m8-8H4\"\n          />\n        </svg>\n      </button>\n    </Transition>\n  );\n};\n\nexport default AddEventCard;\n","import DateTimePicker from \"react-datetime-picker\";\n\nconst TextField = ({\n  label,\n  value,\n  lines,\n  onValueChange,\n  isDate,\n  placeholder,\n}) => {\n  return (\n    <div className=\"mt-2 flex justify-between rounded-md\">\n      <label\n        htmlFor={label}\n        className=\"block text-sm font-medium text-gray-700 w-1/3 mr-2\"\n      >\n        {label}\n      </label>\n      {isDate ? (\n        <DateTimePicker\n          className=\"border-2 p-1 focus:ring-indigo-500 focus:border-indigo-500 block w-2/3 sm:text-sm border-gray-200 rounded-md\"\n          value={value}\n          onChange={(date) => onValueChange(date)}\n        />\n      ) : lines ? (\n        <textarea\n          className=\"border-2 p-1 focus:ring-indigo-500 focus:border-indigo-500 block w-2/3 sm:text-sm border-gray-200 rounded-md\"\n          name={label}\n          id={label}\n          rows={lines}\n          placeholder={placeholder || \"\"}\n          onChange={onValueChange}\n        ></textarea>\n      ) : (\n        <input\n          type=\"text\"\n          name={label}\n          id={label}\n          placeholder={placeholder || \"\"}\n          className=\"border-2 p-1 focus:ring-indigo-500 focus:border-indigo-500 block w-2/3 sm:text-sm border-gray-200 rounded-md\"\n          value={value}\n          onChange={onValueChange}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TextField;\n","import { connect, Contract, keyStores, WalletConnection } from \"near-api-js\";\nimport getConfig from \"./config\";\nimport moment from \"moment\";\nimport Big from \"big.js\";\n\nconst nearConfig = getConfig(\"development\");\n\n// Initialize contract & set global variables\nexport async function initContract() {\n  // Initialize connection to the NEAR testnet\n  const near = await connect(\n    Object.assign(\n      { deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } },\n      nearConfig\n    )\n  );\n\n  // Initializing Wallet based Account. It can work with NEAR testnet wallet that\n  // is hosted at https://wallet.testnet.near.org\n  window.walletConnection = new WalletConnection(near);\n\n  // Getting the Account ID. If still unauthorized, it's just empty string\n  window.accountId = window.walletConnection.getAccountId();\n\n  // Initializing our contract APIs by contract name and configuration\n  window.contract = await new Contract(\n    window.walletConnection.account(),\n    nearConfig.contractName,\n    {\n      // View methods are read only. They don't modify the state, but usually return some value.\n      viewMethods: [\"get_greeting\"],\n      // Change methods can modify the state. But you don't receive the returned value when called.\n      changeMethods: [\"set_greeting\"],\n    }\n  );\n}\n\nexport function logout() {\n  window.walletConnection.signOut();\n  // reload page\n  window.location.replace(window.location.origin + window.location.pathname);\n}\n\nexport function login() {\n  // Allow the current app to make calls to the specified contract on the\n  // user's behalf.\n  // This works by creating a new access key for the user's account and storing\n  // the private key in localStorage.\n  window.walletConnection.requestSignIn(nearConfig.contractName);\n}\n\nexport const formatDate = (date) => {\n  return date.format(\"DD MMM yyyy HH:MM\");\n};\n\nexport const toDate = (date) => {\n  const timestamp = Math.floor(date / 1000000).toFixed();\n  return moment(timestamp, \"x\");\n};\n\nexport const BOATLOAD_OF_GAS = Big(3)\n  .times(10 ** 13)\n  .toFixed();\n\nconst KeyCodes = {\n  comma: 188,\n  enter: 13,\n  space: 32,\n};\n\nexport const delimiters = [KeyCodes.comma, KeyCodes.enter, KeyCodes.space];\n","import { Dialog, Transition } from \"@headlessui/react\";\nimport { Switch } from \"@headlessui/react\";\nimport { Fragment, useState } from \"react\";\nimport TextField from \"./TextField\";\nimport moment from \"moment\";\nimport { WithContext as ReactTags } from \"react-tag-input\";\nimport { delimiters } from \"./utils\";\n\nconst AddEventDialog = ({ isOpen, onClose, onRegister }) => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [rewards, setRewards] = useState([{ id: \"1\", text: \"1\" }]);\n  const [participants, setParticipants] = useState([\n    { id: \"lkskrnk.testnet\", text: \"lkskrnk.testnet\" },\n  ]);\n  const [allowDuplicates, setAllowDuplicates] = useState(false);\n  const [eventDate, setEventDate] = useState(\n    moment().add(8, \"days\").endOf(\"day\").toDate()\n  );\n  const [addParticipantsStartDate, setAddParticipantsStartDate] = useState(\n    moment().add(1, \"day\").startOf(\"day\").toDate()\n  );\n  const [addParticipantsEndDate, setAddParticipantsEndDate] = useState(\n    moment().add(7, \"days\").endOf(\"day\").toDate()\n  );\n\n  const handleDeleteReward = (i) => {\n    setRewards(rewards.filter((r, index) => index !== i));\n  };\n\n  const handleAddReward = (r) => {\n    //TODO Add reward validation\n    setRewards([...rewards, r]);\n  };\n\n  const handleDeleteParticipant = (i) => {\n    setParticipants(participants.filter((p, index) => index !== i));\n  };\n\n  const handleAddParticipant = (p) => {\n    //TODO Add address validation\n    setParticipants([...participants, p]);\n  };\n\n  const handleDragParticipant = (tag, currPos, newPos) => {\n    const newTags = participants.slice();\n    newTags.splice(currPos, 1);\n    newTags.splice(newPos, 0, tag);\n    setParticipants(newTags);\n  };\n\n  const canAddEvent = () => {\n    return (\n      title &&\n      title.length > 0 &&\n      description &&\n      description.length > 0 &&\n      rewards.length > 0 &&\n      eventDate &&\n      addParticipantsStartDate\n    );\n  };\n\n  return (\n    <>\n      <Transition appear show={isOpen} as={Fragment}>\n        <Dialog\n          as=\"div\"\n          className=\"fixed inset-0 z-10 overflow-y-auto\"\n          onClose={onClose}\n        >\n          <div className=\"min-h-screen px-4 text-center\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-100\"\n              enterFrom=\"opacity-0\"\n              enterTo=\"opacity-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100\"\n              leaveTo=\"opacity-0\"\n            >\n              <Dialog.Overlay className=\"fixed inset-0\" />\n            </Transition.Child>\n\n            {/* This element is to trick the browser into centering the modal contents. */}\n            <span\n              className=\"inline-block h-screen align-middle\"\n              aria-hidden=\"true\"\n            >\n              &#8203;\n            </span>\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <div className=\"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl\">\n                <Dialog.Title\n                  as=\"h3\"\n                  className=\"text-lg font-medium leading-6 text-gray-900\"\n                >\n                  New event\n                </Dialog.Title>\n                <div className=\"mt-2 mb-2\">\n                  <p className=\"text-sm text-gray-500\">\n                    Fill in the event details and press register.\n                  </p>\n                </div>\n                <hr />\n                <TextField\n                  label=\"Title\"\n                  placeholder=\"Enter title\"\n                  value={title}\n                  onValueChange={(e) => setTitle(e.target.value)}\n                />\n                <TextField\n                  label=\"Description\"\n                  value={description}\n                  placeholder=\"Enter description\"\n                  onValueChange={(e) => setDescription(e.target.value)}\n                />\n\n                <TextField\n                  label=\"Accept participants from\"\n                  value={addParticipantsStartDate}\n                  isDate={true}\n                  onValueChange={(date) => setAddParticipantsStartDate(date)}\n                />\n\n                <TextField\n                  label=\"Accept participants until\"\n                  value={addParticipantsEndDate}\n                  isDate={true}\n                  onValueChange={(date) => setAddParticipantsEndDate(date)}\n                />\n\n                <TextField\n                  label=\"Draw date\"\n                  value={eventDate}\n                  isDate={true}\n                  onValueChange={(date) => setEventDate(date)}\n                />\n\n                <div className=\"mt-4\">\n                  <Switch.Group>\n                    <div className=\"flex justify-between\">\n                      <Switch.Label>Allow duplicates</Switch.Label>\n                      <Switch\n                        checked={allowDuplicates}\n                        onChange={setAllowDuplicates}\n                        className={`${\n                          allowDuplicates ? \"bg-blue-600\" : \"bg-gray-200\"\n                        } relative inline-flex items-center h-6 rounded-full w-11`}\n                      >\n                        <span\n                          className={`${\n                            allowDuplicates ? \"translate-x-6\" : \"translate-x-1\"\n                          } inline-block w-4 h-4 transform bg-white rounded-full`}\n                        />\n                      </Switch>\n                    </div>\n                  </Switch.Group>\n                </div>\n\n                <div className={`mt-4`}>\n                  <label className=\"mb-2\" htmlFor=\"rewards\">\n                    Rewards:\n                  </label>\n                  <ReactTags\n                    tags={rewards}\n                    delimiters={delimiters}\n                    handleDelete={handleDeleteReward}\n                    handleAddition={handleAddReward}\n                    inputFieldPosition=\"top\"\n                    allowUnique={false}\n                    placeholder=\"Insert rewards\"\n                    allowDragDrop={false}\n                  />\n                </div>\n\n                <div className={`mt-4`}>\n                  <label className=\"mb-2\" htmlFor=\"participants\">\n                    Participants:\n                  </label>\n                  <ReactTags\n                    tags={participants}\n                    delimiters={delimiters}\n                    handleDelete={handleDeleteParticipant}\n                    handleAddition={handleAddParticipant}\n                    handleDrag={handleDragParticipant}\n                    inputFieldPosition=\"top\"\n                    allowUnique={!allowDuplicates}\n                    placeholder=\"Insert participants\"\n                    allowDragDrop={true}\n                  />\n                </div>\n\n                <div className=\"mt-4 flex justify-between\">\n                  <button\n                    type=\"button\"\n                    className=\"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500\"\n                    onClick={onClose}\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 disabled:opacity-30\"\n                    onClick={() => {\n                      if (canAddEvent) {\n                        onRegister(\n                          title,\n                          description,\n                          eventDate,\n                          addParticipantsEndDate,\n                          addParticipantsStartDate,\n                          allowDuplicates,\n                          rewards,\n                          participants\n                        );\n                      }\n                    }}\n                    disabled={!canAddEvent()}\n                  >\n                    Register\n                  </button>\n                </div>\n              </div>\n            </Transition.Child>\n          </div>\n        </Dialog>\n      </Transition>\n    </>\n  );\n};\n\nexport default AddEventDialog;\n","import { Fragment, useEffect, useState } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport { useTimeoutFn } from \"react-use\";\nimport { toDate, formatDate } from \"./utils\";\n\nconst EventCard = ({\n  currentEvent,\n  index,\n  delay,\n  contract,\n  currentUser,\n  nearConfig,\n  wallet,\n  onLoading,\n  onEventSelected,\n}) => {\n  let [isShowing, setIsShowing] = useState(false);\n  let [isHovered, setIsHovered] = useState(false);\n  const [event, setEvent] = useState(currentEvent);\n\n  const eventDate = toDate(event.event_timestamp);\n  const finalizedDate =\n    event.finalized_timestamp && event.finalized_timestamp !== \"0\"\n      ? toDate(event.finalized_timestamp)\n      : undefined;\n  const addParticipantsStartDate = toDate(\n    event.add_participants_start_timestamp\n  );\n  const addParticipantsEndDate = toDate(event.add_participants_end_timestamp);\n\n  useEffect(() => {\n    if (onLoading) {\n      onLoading(true);\n      contract.get_event({ event_id: event.event_id }).then(\n        (event) => {\n          onLoading(false);\n          setEvent(event);\n        },\n        (err) => {\n          onLoading(false);\n        }\n      );\n    }\n  }, [contract, event.event_id, onLoading]);\n\n  let [, , resetIsShowing] = useTimeoutFn(\n    () => setIsShowing(true),\n    index * 200\n  );\n\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n\n  return (\n    <Transition\n      as={Fragment}\n      show={isShowing}\n      enter={`transform transition duration-[${delay}ms]`}\n      enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n      enterTo=\"opacity-100 rotate-0 scale-100\"\n      leave=\"transform duration-200 transition ease-in-out\"\n      leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n      leaveTo=\"opacity-0 scale-95 \"\n    >\n      <div\n        onClick={() => onEventSelected(event)}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n        className={`w-full bg-gradient-to-r ${\n          isHovered\n            ? \"from-yellow-500 to-red-600\"\n            : \"from-yellow-400 to-red-500\"\n        }  p-6 max-w-sm mx-auto rounded-xl flex-col shadow-md flex space-y-2 cursor-pointer`}\n      >\n        <div className=\"text-xl font-medium text-black text-center\">\n          {event.title}\n        </div>\n        <div className=\"text-xl font-medium text-black break-all flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n            />\n          </svg>\n          {event.description}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          <div className=\"mr-2\">\n            Created: <br /> {formatDate(eventDate)}\n          </div>\n          {finalizedDate && (\n            <div>\n              Finalized: <br /> {formatDate(finalizedDate)}\n            </div>\n          )}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n            />\n          </svg>\n          <p className=\"flex-wrap\">\n            Accept participants: <br /> {formatDate(addParticipantsStartDate)} -{\" \"}\n            {formatDate(addParticipantsEndDate)}\n          </p>\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          <p>Rewards:</p>\n          {event.rewards &&\n            event.rewards.map((r, i) => (\n              <div\n                className=\"pr-2 pl-2 ml-2 bg-gradient-to-r from-green-300 to-green-500 rounded-lg\"\n                key={i}\n              >{`${r}`}</div>\n            ))}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"\n            />\n          </svg>\n          {!event.participants ||\n            (event.participants &&\n              event.participants.length === 0 &&\n              \"No participants yet, only owner can add new participants.\")}\n          {event.participants &&\n            event.participants.length > 0 &&\n            `${event.participants.length} total participants.`}\n        </div>\n      </div>\n    </Transition>\n  );\n};\n\nexport default EventCard;\n","import { Fragment, useState, useEffect } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport { useTimeoutFn } from \"react-use\";\nimport { toDate, formatDate } from \"./utils\";\nimport { WithContext as ReactTags } from \"react-tag-input\";\nimport { delimiters } from \"./utils\";\nimport { BOATLOAD_OF_GAS } from \"./utils\";\nimport moment from \"moment\";\n\nconst EventDetails = ({\n  currentEvent,\n  contract,\n  currentUser,\n  nearConfig,\n  wallet,\n  onClose,\n  onLoading,\n  onError,\n}) => {\n  const [isShowing, setIsShowing] = useState(false);\n  const [closeButtonColor, setCloseButtonColor] = useState(\"#000\");\n  const [event, setEvent] = useState(currentEvent);\n  const [shouldReloadEvent, setShouldReloadEvent] = useState(false);\n  const [newParticipants, setNewParticipants] = useState([]);\n\n  let [, , resetIsShowing] = useTimeoutFn(() => setIsShowing(true), 100);\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n\n  const isOwner =\n    event.owner_account_id &&\n    currentUser &&\n    event.owner_account_id === currentUser.accountId;\n\n  const eventDate = toDate(event.event_timestamp);\n  const finalizedDate =\n    event.finalized_timestamp && event.finalized_timestamp !== \"0\"\n      ? toDate(event.finalized_timestamp)\n      : undefined;\n  const addParticipantsStartDate = toDate(\n    event.add_participants_start_timestamp\n  );\n  const addParticipantsEndDate = toDate(event.add_participants_end_timestamp);\n\n  const finalizeEvent = () => {\n    if (!finalizedDate && eventDate.isBefore(moment())) {\n      onLoading(true);\n      contract\n        .finalize_event(\n          {\n            event_id: event.id,\n          },\n          BOATLOAD_OF_GAS\n        )\n        .then(\n          () => {\n            setShouldReloadEvent(true);\n            onLoading(false);\n          },\n          (err) => {\n            onLoading(false);\n            onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n          }\n        );\n    }\n  };\n\n  const saveNewParticipants = () => {\n    if (newParticipants.length > 0) {\n      onLoading(true);\n      contract\n        .insert_participants(\n          {\n            event_id: event.event_id,\n            participants: newParticipants.map((p) => p.id),\n          },\n          BOATLOAD_OF_GAS\n        )\n        .then(\n          () => {\n            setShouldReloadEvent(true);\n            onLoading(false);\n          },\n          (err) => {\n            onLoading(false);\n            onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n          }\n        );\n    }\n  };\n\n  const handleDeleteParticipant = (i) => {\n    setNewParticipants(newParticipants.filter((p, index) => index !== i));\n  };\n\n  const handleAddParticipant = (p) => {\n    //TODO Add address validation\n    setNewParticipants([...newParticipants, p]);\n  };\n\n  const handleDragParticipant = (tag, currPos, newPos) => {\n    const newTags = newParticipants.slice();\n    newTags.splice(currPos, 1);\n    newTags.splice(newPos, 0, tag);\n    setNewParticipants(newTags);\n  };\n\n  useEffect(() => {\n    if (shouldReloadEvent && onLoading && onError) {\n      const eventId = event.id;\n      contract\n        .get_event(\n          {\n            event_id: eventId,\n          },\n          BOATLOAD_OF_GAS\n        )\n        .then(\n          (event) => {\n            setEvent({ ...event, id: eventId });\n            setShouldReloadEvent(false);\n            onLoading(false);\n          },\n          (err) => {\n            setShouldReloadEvent(false);\n            onLoading(false);\n            onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n          }\n        );\n    }\n  }, [contract, event.id, shouldReloadEvent, onLoading, onError]);\n\n  return (\n    <Transition\n      as={Fragment}\n      show={isShowing}\n      enter={`transform transition duration-[250ms]`}\n      enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n      enterTo=\"opacity-100 rotate-0 scale-100\"\n      leave=\"transform duration-200 transition ease-in-out\"\n      leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n      leaveTo=\"opacity-0 scale-95 \"\n    >\n      <div className=\"mw-800 bg-gradient-to-r from-indigo-300 to-indigo-500 p-6 rounded-xl flex-col shadow-md flex\">\n        <div className=\"text-2xl flex justify-between font-medium items-center mb-4\">\n          <div className=\"mt-2 text-2xl text-center font-medium text-black\">\n            {event.title}\n          </div>\n          <button\n            className=\"font-medium \"\n            onClick={onClose}\n            onMouseEnter={() => setCloseButtonColor(\"#ddd\")}\n            onMouseLeave={() => setCloseButtonColor(\"#000\")}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-6 w-6\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke={closeButtonColor}\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n        <div className=\"text-xl font-medium text-black flex flex-row items-center justify-between\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n            />\n          </svg>\n          <p className=\"flex-grow\">{event.description}</p>\n          <button\n            className=\"disabled:opacity-50 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded flex-none\"\n            onClick={finalizeEvent}\n          >\n            Finalize Event\n          </button>\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row items-center\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          <p className=\"flex-grow\">Draw date: {formatDate(eventDate)}</p>\n          {finalizedDate && <p>Finalized date: {formatDate(finalizedDate)}</p>}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row items-center mt-2\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n            />\n          </svg>\n          Accepting participants: {formatDate(addParticipantsStartDate)} -{\" \"}\n          {formatDate(addParticipantsEndDate)}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row items-center mt-2\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          Rewards:\n          {event.rewards &&\n            event.rewards.map((r, i) => (\n              <div\n                className=\"pr-2 pl-2 ml-2 bg-gradient-to-r from-green-300 to-green-500 rounded-lg\"\n                key={i}\n              >\n                {r}\n              </div>\n            ))}\n        </div>\n        <div className=\"text-xl font-medium text-black text-center\">\n          {event.participants.length > 0\n            ? \"Participants:\"\n            : \"No participants yet, add participants before the end date.\"}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row items-center\">\n          {event && event.participants && event.participants.length > 0 && (\n            <div>\n              {event.participants.map((p, index) => {\n                return <Participant key={index} participant={p} />;\n              })}\n            </div>\n          )}\n        </div>\n        {isOwner && (\n          <>\n            <div className=\"text-xl font-medium text-black text-center\">\n              Add participants:\n            </div>\n            <div className={`mt-4 flex mr-4`}>\n              <div className=\"flex-auto\">\n                <ReactTags\n                  tags={newParticipants}\n                  delimiters={delimiters}\n                  handleDelete={handleDeleteParticipant}\n                  handleAddition={handleAddParticipant}\n                  handleDrag={handleDragParticipant}\n                  inputFieldPosition=\"top\"\n                  allowUnique={!event.allowDuplicates}\n                  placeholder=\"Insert participants\"\n                  allowDragDrop={true}\n                  inline={true}\n                />\n              </div>\n              <button\n                className=\"disabled:opacity-50 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded flex-none h-12\"\n                disabled={newParticipants.length === 0}\n                onClick={saveNewParticipants}\n              >\n                Save\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n    </Transition>\n  );\n};\n\nconst Participant = ({ participant }) => {\n  return <div className=\"flex text-md\">{participant}</div>;\n};\n\nexport default EventDetails;\n","import React, { useState, useEffect } from \"react\";\nimport AddEventCard from \"./AddEventCard\";\nimport AddEventDialog from \"./AddEventDialog\";\nimport EventCard from \"./EventCard\";\nimport EventDetails from \"./EventDetails\";\nimport moment from \"moment\";\nimport { BOATLOAD_OF_GAS } from \"./utils\";\nimport Big from \"big.js\";\n\nconst Events = ({\n  contract,\n  currentUser,\n  nearConfig,\n  wallet,\n  onLoading,\n  onError,\n}) => {\n  const [events, setEvents] = useState();\n  const [fromIndex, setFromIndex] = useState(0);\n  const [limit, setLimit] = useState(10);\n  const [shouldReloadEvents, setShouldReloadEvents] = useState(true);\n  const [selectedEvent, setSelectedEvent] = useState();\n  const [isNewEventDialogOpen, setIsNewEventDialogOpen] = useState(false);\n\n  const activateEvent = (election) => {\n    localStorage.setItem(\"activeEvent\", election.id);\n    setSelectedEvent(election);\n  };\n\n  const deactivateEvent = () => {\n    localStorage.removeItem(\"activeEvent\");\n    setSelectedEvent(null);\n  };\n\n  const toNano = (date) => {\n    return `${moment(date).format(\"x\")}000000`;\n  };\n\n  const registerEvent = (\n    title,\n    description,\n    eventDate,\n    addParticipantsEndDate,\n    addParticipantsStartDate,\n    allowDuplicates,\n    rewards,\n    participants\n  ) => {\n    onLoading(true);\n    //TODO should we add comission to the total sum?\n    const totalRewards = rewards\n      .map((r) => r.id)\n      .reduce((a, b) => parseInt(a) + parseInt(b));\n    contract\n      .add_event(\n        {\n          event_input: {\n            title,\n            description,\n            rewards: rewards.map((r) => r.id),\n            participants: participants.map((p) => p.id),\n            allow_duplicate_participants: allowDuplicates,\n            event_timestamp: toNano(eventDate),\n            add_participants_start_timestamp: toNano(addParticipantsStartDate),\n            add_participants_end_timestamp: toNano(addParticipantsEndDate),\n          },\n        },\n        BOATLOAD_OF_GAS,\n        Big(totalRewards)\n          .times(10 ** 24)\n          .toFixed()\n      )\n      .then(\n        () => {\n          onLoading(false);\n          setIsNewEventDialogOpen(false);\n        },\n        (err) => {\n          onLoading(false);\n          onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n        }\n      );\n  };\n\n  useEffect(() => {\n    if (onLoading && shouldReloadEvents) {\n      onLoading(true);\n      contract.get_events({ from_index: fromIndex, limit: limit }).then(\n        (events) => {\n          onLoading(false);\n          setEvents(events);\n          setShouldReloadEvents(false);\n        },\n        (err) => {\n          setShouldReloadEvents(false);\n          onLoading(false);\n          onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n        }\n      );\n    }\n  }, [contract, onLoading, limit, fromIndex, onError, shouldReloadEvents]);\n\n  return (\n    <>\n      <div className=\"container mx-auto flex-row\">\n        {!selectedEvent && (\n          <div className=\"grid lg:grid-cols-4 md:grid-cols-2 xs:grid-cols-1 gap-4\">\n            <AddEventCard onAddEvent={() => setIsNewEventDialogOpen(true)} />\n            {events &&\n              events.map((event, index) => {\n                return (\n                  <EventCard\n                    key={index}\n                    currentEvent={event}\n                    index={index}\n                    contract={contract}\n                    currentUser={currentUser}\n                    nearConfig={nearConfig}\n                    wallet={wallet}\n                    onLoading={onLoading}\n                    onEventSelected={activateEvent}\n                  />\n                );\n              })}\n          </div>\n        )}\n        {isNewEventDialogOpen && (\n          <AddEventDialog\n            isOpen={isNewEventDialogOpen}\n            onClose={() => setIsNewEventDialogOpen(false)}\n            onRegister={registerEvent}\n          />\n        )}\n        {selectedEvent && (\n          <div className=\"grid grid-cols-1\">\n            <EventDetails\n              currentEvent={selectedEvent}\n              contract={contract}\n              currentUser={currentUser}\n              nearConfig={nearConfig}\n              wallet={wallet}\n              onLoading={onLoading}\n              onError={onError}\n              onClose={deactivateEvent}\n            />\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Events;\n","import \"regenerator-runtime/runtime\";\nimport React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Authorization from \"./Authorization\";\nimport LoadingIndicator from \"./LoadingIndicator\";\nimport ErrorPopup from \"./ErrorPopup\";\nimport Events from \"./Events\";\n\nconst App = ({ contract, currentUser, nearConfig, wallet }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  return (\n    <div className=\"container mx-auto\">\n      <Authorization\n        contract={contract}\n        currentUser={currentUser}\n        nearConfig={nearConfig}\n        wallet={wallet}\n        onLoading={setIsLoading}\n      />\n      <ErrorPopup error={error} callback={() => setError(\"\")} />\n      <LoadingIndicator isLoading={isLoading} />\n      {currentUser && currentUser.accountId && (\n        <Events\n          contract={contract}\n          currentUser={currentUser}\n          nearConfig={nearConfig}\n          wallet={wallet}\n          onLoading={setIsLoading}\n          onError={setError}\n        />\n      )}\n    </div>\n  );\n};\n\nApp.propTypes = {\n  contract: PropTypes.shape({\n    get_events_to_finalize: PropTypes.func.isRequired,\n    get_events: PropTypes.func.isRequired,\n    get_event: PropTypes.func.isRequired,\n    get_payouts: PropTypes.func.isRequired,\n    add_event: PropTypes.func.isRequired,\n    insert_participants: PropTypes.func.isRequired,\n    finalize_event: PropTypes.func.isRequired,\n  }).isRequired,\n  currentUser: PropTypes.shape({\n    accountId: PropTypes.string.isRequired,\n    balance: PropTypes.string.isRequired,\n  }),\n  nearConfig: PropTypes.shape({\n    contractName: PropTypes.string.isRequired,\n  }).isRequired,\n  wallet: PropTypes.shape({\n    requestSignIn: PropTypes.func.isRequired,\n    signOut: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default App;\n","// src/index.js\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport getConfig from \"./config.js\";\nimport * as nearAPI from \"near-api-js\";\n\n// Initializing contract\nasync function initContract() {\n  const nearConfig = getConfig(\"testnet\");\n\n  // Initializing connection to the NEAR TestNet\n  const near = await nearAPI.connect({\n    deps: {\n      keyStore: new nearAPI.keyStores.BrowserLocalStorageKeyStore(),\n    },\n    ...nearConfig,\n  });\n\n  // Needed to access wallet\n  const walletConnection = new nearAPI.WalletConnection(near);\n\n  // Load in account data\n  let currentUser;\n  if (walletConnection.getAccountId()) {\n    currentUser = {\n      accountId: walletConnection.getAccountId(),\n      balance: (await walletConnection.account().state()).amount,\n    };\n  }\n\n  // Initializing our contract APIs by contract name and configuration\n  const contract = await new nearAPI.Contract(\n    walletConnection.account(),\n    nearConfig.contractName,\n    {\n      viewMethods: [\n        \"get_event\",\n        \"get_events\",\n        \"get_events_to_finalize\",\n        \"get_payouts\",\n      ],\n      changeMethods: [\"add_event\", \"insert_participants\", \"finalize_event\"],\n      sender: walletConnection.getAccountId(),\n    }\n  );\n\n  return { contract, currentUser, nearConfig, walletConnection };\n}\n\nwindow.nearInitPromise = initContract().then(\n  ({ contract, currentUser, nearConfig, walletConnection }) => {\n    ReactDOM.render(\n      <App\n        contract={contract}\n        currentUser={currentUser}\n        nearConfig={nearConfig}\n        wallet={walletConnection}\n      />,\n      document.getElementById(\"root\")\n    );\n  }\n);\n","const CONTRACT_NAME =\n  process.env.CONTRACT_NAME || \"dev-1641467457693-46803679399442\";\n\nfunction getConfig(env) {\n  switch (env) {\n    case \"production\":\n    case \"mainnet\":\n      return {\n        networkId: \"mainnet\",\n        nodeUrl: \"https://rpc.mainnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.near.org\",\n        helperUrl: \"https://helper.mainnet.near.org\",\n        explorerUrl: \"https://explorer.mainnet.near.org\",\n      };\n    case \"development\":\n    case \"testnet\":\n      return {\n        networkId: \"testnet\",\n        nodeUrl: \"https://rpc.testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.testnet.near.org\",\n        helperUrl: \"https://helper.testnet.near.org\",\n        explorerUrl: \"https://explorer.testnet.near.org\",\n      };\n    case \"betanet\":\n      return {\n        networkId: \"betanet\",\n        nodeUrl: \"https://rpc.betanet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.betanet.near.org\",\n        helperUrl: \"https://helper.betanet.near.org\",\n        explorerUrl: \"https://explorer.betanet.near.org\",\n      };\n    case \"local\":\n      return {\n        networkId: \"local\",\n        nodeUrl: \"http://localhost:3030\",\n        keyPath: `${process.env.HOME}/.near/validator_key.json`,\n        walletUrl: \"http://localhost:4000/wallet\",\n        contractName: CONTRACT_NAME,\n      };\n    case \"test\":\n    case \"ci\":\n      return {\n        networkId: \"shared-test\",\n        nodeUrl: \"https://rpc.ci-testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        masterAccount: \"test.near\",\n      };\n    case \"ci-betanet\":\n      return {\n        networkId: \"shared-test-staging\",\n        nodeUrl: \"https://rpc.ci-betanet.near.org\",\n        contractName: CONTRACT_NAME,\n        masterAccount: \"test.near\",\n      };\n    default:\n      throw Error(\n        `Unconfigured environment '${env}'. Can be configured in src/config.js.`\n      );\n  }\n}\n\nmodule.exports = getConfig;\n"],"sourceRoot":""}