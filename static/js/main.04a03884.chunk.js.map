{"version":3,"sources":["Authorization.jsx","LoadingIndicator.jsx","ErrorPopup.jsx","AddEventCard.jsx","TextField.jsx","AddEventDialog.jsx","EventCard.jsx","EventDetails.jsx","Events.jsx","App.js","index.js","utils.js","config.js"],"names":["Authorization","contract","currentUser","nearConfig","wallet","useState","isShowing","setIsShowing","useTimeoutFn","resetIsShowing","useEffect","as","Fragment","show","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","className","src","alt","onClick","signOut","window","location","replace","origin","pathname","requestSignIn","contractName","LoadingIndicator","isLoading","ErrorPopup","error","callback","closeModal","appear","onClose","Child","Overlay","Title","type","AddEventCard","onAddEvent","isHovered","setIsHovered","onMouseEnter","onMouseLeave","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","TextField","label","value","lines","onValueChange","isDate","placeholder","htmlFor","onChange","date","name","id","rows","AddEventDialog","isOpen","onRegister","title","setTitle","description","setDescription","text","rewards","setRewards","participants","setParticipants","allowDuplicates","setAllowDuplicates","Date","eventDate","setEventDate","addParticipantsStartDate","setAddParticipantsStartDate","addParticipantsEndDate","setAddParticipantsEndDate","canAddEvent","length","moment","add","startOf","toDate","endOf","e","target","Group","Label","checked","ReactTags","tags","delimiters","handleDelete","i","filter","r","index","handleAddition","parseFloat","alert","inputFieldPosition","allowUnique","allowDragDrop","p","accountExist","then","result","handleDrag","tag","currPos","newPos","newTags","slice","splice","disabled","EventCard","currentEvent","delay","onLoading","onEventSelected","event","setEvent","event_timestamp","finalizedDate","finalized_timestamp","undefined","add_participants_start_timestamp","add_participants_end_timestamp","get_event","event_id","err","formatDate","map","nearAPI","format","formatNearAmount","Participant","participant","EventDetails","onError","closeButtonColor","setCloseButtonColor","shouldReloadEvent","setShouldReloadEvent","newParticipants","setNewParticipants","isFinalizeEventDisabled","setIsFinalizeEventDisabled","isAfter","isOwner","owner_account_id","accountId","eventId","BOATLOAD_OF_GAS","kind","isBefore","finalize_event","inline","insert_participants","Events","events","setEvents","shouldReloadEvents","setShouldReloadEvents","selectedEvent","setSelectedEvent","isNewEventDialogOpen","setIsNewEventDialogOpen","activateEvent","election","localStorage","setItem","toNano","a","fromIndex","limit","newEvents","get_events","from_index","concat","sort","b","parseInt","totalRewards","reduce","serviceFee","Math","min","add_event","event_input","parseNearAmount","toString","allow_duplicate_participants","removeItem","App","setIsLoading","setError","getConfig","process","deps","keyStore","BrowserLocalStorageKeyStore","near","walletConnection","getAccountId","account","state","amount","balance","viewMethods","changeMethods","sender","nearInitPromise","initContract","ReactDOM","render","document","getElementById","timestamp","floor","toFixed","Big","times","KeyCodes","connection","getNearAccountConnection","key","PublicKey","keyType","key_pair","KeyType","ED25519","data","Buffer","from","config","console","log","provider","JsonRpcProvider","nodeUrl","CONTRACT_NAME","module","exports","env","networkId","walletUrl","helperUrl","explorerUrl","keyPath","HOME","masterAccount","Error"],"mappings":"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","file":"static/js/main.04a03884.chunk.js","sourcesContent":["import { Fragment, useState, useEffect } from \"react\";\nimport { useTimeoutFn } from \"react-use\";\nimport { Transition } from \"@headlessui/react\";\n\nconst Authorization = ({ contract, currentUser, nearConfig, wallet }) => {\n  const signIn = () => {\n    wallet.requestSignIn(nearConfig.contractName, \"NEAR Giveway\");\n  };\n\n  const signOut = () => {\n    wallet.signOut();\n    window.location.replace(window.location.origin + window.location.pathname);\n  };\n\n  let [isShowing, setIsShowing] = useState(true);\n  let [, , resetIsShowing] = useTimeoutFn(() => setIsShowing(true), 500);\n\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n\n  return (\n    <>\n      <Transition\n        as={Fragment}\n        show={isShowing}\n        enter=\"transform transition duration-[500ms]\"\n        enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n        enterTo=\"opacity-100 rotate-0 scale-100\"\n        leave=\"transform duration-200 transition ease-in-out\"\n        leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n        leaveTo=\"opacity-0 scale-95 \"\n      >\n        <div className=\"flex justify-between bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 mt-6 p-2 mx-auto rounded-xl shadow-md items-center\">\n          <img\n            className=\"h-14 w-20\"\n            src=\"https://docs.near.org/img/near_logo.svg\"\n            alt=\"NEAR Logo\"\n          />\n\n          <div className={`text-xl font-medium text-black uppercase`}>\n            NEAR Giveaway\n          </div>\n          <div className=\"flex justify-between\">\n            {currentUser ? (\n              <button\n                className=\"bg-gradient-to-r from-indigo-400 to-indigo-500 hover:from-indigo-700 hover:to-indigo-900 text-black hover:text-white py-2 px-4 rounded float-right\"\n                onClick={signOut}\n              >\n                Logout\n              </button>\n            ) : (\n              <button\n                className=\"bg-gradient-to-r from-indigo-400 to-indigo-500 hover:from-indigo-700 hover:to-indigo-900 text-black hover:text-white py-2 px-4 rounded float-right\"\n                onClick={signIn}\n              >\n                Login\n              </button>\n            )}\n          </div>\n        </div>\n      </Transition>\n    </>\n  );\n};\n\nexport default Authorization;\n","const LoadingIndicator = ({ isLoading }) => {\n  return (\n    <>\n      {isLoading ? (\n        <div className=\"my-4 mx-auto loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12\"></div>\n      ) : (\n        <div className=\"my-4 h-12 w-12\"></div>\n      )}\n    </>\n  );\n};\n\nexport default LoadingIndicator;\n","import { Dialog, Transition } from \"@headlessui/react\";\nimport { Fragment } from \"react\";\n\nexport default function ErrorPopup({ error, callback }) {\n  function closeModal() {\n    callback();\n  }\n\n  return (\n    <>\n      <Transition appear show={error !== \"\"} as={Fragment}>\n        <Dialog\n          as=\"div\"\n          className=\"fixed inset-0 z-10 overflow-y-auto\"\n          onClose={closeModal}\n        >\n          <div className=\"min-h-screen px-4 text-center\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0\"\n              enterTo=\"opacity-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100\"\n              leaveTo=\"opacity-0\"\n            >\n              <Dialog.Overlay className=\"fixed inset-0\" />\n            </Transition.Child>\n\n            {/* This element is to trick the browser into centering the modal contents. */}\n            <span\n              className=\"inline-block h-screen align-middle\"\n              aria-hidden=\"true\"\n            >\n              &#8203;\n            </span>\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <div className=\"inline-block w-full max-w-md p-6 my-4 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl\">\n                <Dialog.Title\n                  as=\"h3\"\n                  className=\"text-lg font-medium leading-6 text-gray-900\"\n                >\n                  Opps, something went wrong\n                </Dialog.Title>\n                <div className=\"mt-2\">\n                  <p className=\"text-sm text-gray-500\">{error}</p>\n                </div>\n\n                <div className=\"mt-4\">\n                  <button\n                    type=\"button\"\n                    className=\"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500\"\n                    onClick={closeModal}\n                  >\n                    Close\n                  </button>\n                </div>\n              </div>\n            </Transition.Child>\n          </div>\n        </Dialog>\n      </Transition>\n    </>\n  );\n}\n","import { Fragment, useEffect, useState } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport { useTimeoutFn } from \"react-use\";\n\nconst AddEventCard = ({ onAddEvent }) => {\n  let [isShowing, setIsShowing] = useState(false);\n  let [isHovered, setIsHovered] = useState(false);\n\n  let [, , resetIsShowing] = useTimeoutFn(() => setIsShowing(true), 100);\n\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n  return (\n    <Transition\n      as={Fragment}\n      show={isShowing}\n      enter={`transform transition duration-[200ms]`}\n      enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n      enterTo=\"opacity-100 rotate-0 scale-100\"\n      leave=\"transform duration-200 transition ease-in-out\"\n      leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n      leaveTo=\"opacity-0 scale-95 \"\n    >\n      <button\n        onClick={onAddEvent}\n        className={`w-full bg-gradient-to-r ${\n          isHovered\n            ? \"from-green-300 to-blue-500\"\n            : \"from-green-100 to-blue-300\"\n        } p-6 mx-auto max-w-sm rounded-xl shadow-md cursor-pointer`}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"h-6 w-6 mx-auto\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M12 4v16m8-8H4\"\n          />\n        </svg>\n      </button>\n    </Transition>\n  );\n};\n\nexport default AddEventCard;\n","import DateTimePicker from \"react-datetime-picker\";\n\nconst TextField = ({\n  label,\n  value,\n  lines,\n  onValueChange,\n  isDate,\n  placeholder,\n}) => {\n  return (\n    <div className=\"mt-2 flex justify-between rounded-md\">\n      <label\n        htmlFor={label}\n        className=\"block text-sm font-medium text-gray-700 w-1/3 mr-2\"\n      >\n        {label}\n      </label>\n      {isDate ? (\n        <DateTimePicker\n          className=\"border-2 p-1 focus:ring-indigo-500 focus:border-indigo-500 block w-2/3 sm:text-sm border-gray-200 rounded-md\"\n          value={value}\n          onChange={(date) => onValueChange(date)}\n        />\n      ) : lines ? (\n        <textarea\n          className=\"border-2 p-1 focus:ring-indigo-500 focus:border-indigo-500 block w-2/3 sm:text-sm border-gray-200 rounded-md\"\n          name={label}\n          id={label}\n          rows={lines}\n          placeholder={placeholder || \"\"}\n          onChange={onValueChange}\n        ></textarea>\n      ) : (\n        <input\n          type=\"text\"\n          name={label}\n          id={label}\n          placeholder={placeholder || \"\"}\n          className=\"border-2 p-1 focus:ring-indigo-500 focus:border-indigo-500 block w-2/3 sm:text-sm border-gray-200 rounded-md\"\n          value={value}\n          onChange={onValueChange}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TextField;\n","import { Dialog, Transition } from \"@headlessui/react\";\nimport { Switch } from \"@headlessui/react\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport TextField from \"./TextField\";\nimport moment from \"moment\";\nimport { WithContext as ReactTags } from \"react-tag-input\";\nimport { delimiters, accountExist} from \"./utils\";\n\nconst AddEventDialog = ({ isOpen, onClose, onRegister }) => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [rewards, setRewards] = useState([{ id: \"1\", text: \"1\" }]);\n  const [participants, setParticipants] = useState([\n    { id: \"lkskrnk.testnet\", text: \"lkskrnk.testnet\" },\n  ]);\n  const [allowDuplicates, setAllowDuplicates] = useState(false);\n  const [eventDate, setEventDate] = useState(new Date());\n  const [addParticipantsStartDate, setAddParticipantsStartDate] = useState(new Date());\n  const [addParticipantsEndDate, setAddParticipantsEndDate] = useState(new Date());\n\n  const handleDeleteReward = (i) => {\n    setRewards(rewards.filter((r, index) => index !== i));\n  };\n\n  const handleAddReward = (r) => {\n    if(parseFloat(r.id) > 0) {\n      setRewards([...rewards, r]);\n    }\n    else {\n      alert(\"Illegal reward \" + r.id)\n    }\n  };\n\n  const handleDeleteParticipant = (i) => {\n    setParticipants(participants.filter((p, index) => index !== i));\n  };\n\n  const handleAddParticipant = (p) => {\n    accountExist(p.id).then(result=>{\n      if(result) {\n        setParticipants([...participants, p]);\n      }\n      else{\n        alert(\"Illegal account \" + p.id)\n      }\n    });\n  };\n\n  const handleDragParticipant = (tag, currPos, newPos) => {\n    const newTags = participants.slice();\n    newTags.splice(currPos, 1);\n    newTags.splice(newPos, 0, tag);\n    setParticipants(newTags);\n  };\n\n  const canAddEvent = () => {\n    return (\n      title &&\n      title.length > 0 &&\n      description &&\n      description.length > 0 &&\n      rewards.length > 0 &&\n      eventDate &&\n      addParticipantsStartDate\n    );\n  };\n\n  useEffect(() => {\n    if(isOpen) {\n      setEventDate(moment().add(8, \"days\").startOf(\"day\").toDate())\n      setAddParticipantsStartDate(moment().add(1, \"day\").startOf(\"day\").toDate())\n      setAddParticipantsEndDate(moment().add(7, \"days\").endOf(\"day\").toDate())\n    }\n  }, [isOpen]);\n\n  return (\n    <>\n      <Transition appear show={isOpen} as={Fragment}>\n        <Dialog\n          as=\"div\"\n          className=\"fixed inset-0 z-10 overflow-y-auto\"\n          onClose={onClose}\n        >\n          <div className=\"min-h-screen px-4 text-center\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-100\"\n              enterFrom=\"opacity-0\"\n              enterTo=\"opacity-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100\"\n              leaveTo=\"opacity-0\"\n            >\n              <Dialog.Overlay className=\"fixed inset-0\" />\n            </Transition.Child>\n\n            {/* This element is to trick the browser into centering the modal contents. */}\n            <span\n              className=\"inline-block h-screen align-middle\"\n              aria-hidden=\"true\"\n            >\n              &#8203;\n            </span>\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <div className=\"inline-block w-full max-w-md p-6 my-4 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl\">\n                <Dialog.Title\n                  as=\"h3\"\n                  className=\"text-lg font-medium leading-6 text-gray-900\"\n                >\n                  New event\n                </Dialog.Title>\n                <div className=\"mt-2 mb-2\">\n                  <p className=\"text-sm text-gray-500\">\n                    Fill in the event details and press register.\n                  </p>\n                </div>\n                <hr />\n                <TextField\n                  label=\"Title\"\n                  placeholder=\"Enter title\"\n                  value={title}\n                  onValueChange={(e) => setTitle(e.target.value)}\n                />\n                <TextField\n                  label=\"Description\"\n                  value={description}\n                  placeholder=\"Enter description\"\n                  onValueChange={(e) => setDescription(e.target.value)}\n                />\n\n                <TextField\n                  label=\"Accept participants from\"\n                  value={addParticipantsStartDate}\n                  isDate={true}\n                  onValueChange={(date) => setAddParticipantsStartDate(date)}\n                />\n\n                <TextField\n                  label=\"Accept participants until\"\n                  value={addParticipantsEndDate}\n                  isDate={true}\n                  onValueChange={(date) => setAddParticipantsEndDate(date)}\n                />\n\n                <TextField\n                  label=\"Draw date\"\n                  value={eventDate}\n                  isDate={true}\n                  onValueChange={(date) => setEventDate(date)}\n                />\n\n                <div className=\"mt-4\">\n                  <Switch.Group>\n                    <div className=\"flex justify-between\">\n                      <Switch.Label>Allow duplicates</Switch.Label>\n                      <Switch\n                        checked={allowDuplicates}\n                        onChange={setAllowDuplicates}\n                        className={`${\n                          allowDuplicates ? \"bg-blue-600\" : \"bg-gray-200\"\n                        } relative inline-flex items-center h-6 rounded-full w-11`}\n                      >\n                        <span\n                          className={`${\n                            allowDuplicates ? \"translate-x-6\" : \"translate-x-1\"\n                          } inline-block w-4 h-4 transform bg-white rounded-full`}\n                        />\n                      </Switch>\n                    </div>\n                  </Switch.Group>\n                </div>\n\n                <div className={`mt-4`}>\n                  <label className=\"mb-2\" htmlFor=\"rewards\">\n                    Rewards (NEAR):\n                  </label>\n                  <ReactTags\n                    tags={rewards}\n                    delimiters={delimiters}\n                    handleDelete={handleDeleteReward}\n                    handleAddition={handleAddReward}\n                    inputFieldPosition=\"top\"\n                    allowUnique={false}\n                    placeholder=\"Insert rewards\"\n                    allowDragDrop={false}\n                  />\n                </div>\n\n                <div className={`mt-4`}>\n                  <label className=\"mb-2\" htmlFor=\"participants\">\n                    Participants:\n                  </label>\n                  <ReactTags\n                    tags={participants}\n                    delimiters={delimiters}\n                    handleDelete={handleDeleteParticipant}\n                    handleAddition={handleAddParticipant}\n                    handleDrag={handleDragParticipant}\n                    inputFieldPosition=\"top\"\n                    allowUnique={!allowDuplicates}\n                    placeholder=\"Insert participants\"\n                    allowDragDrop={true}\n                  />\n                </div>\n\n                <div className=\"mt-4 flex justify-between\">\n                  <button\n                    type=\"button\"\n                    className=\"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500\"\n                    onClick={onClose}\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 disabled:opacity-30\"\n                    onClick={() => {\n                      if (canAddEvent) {\n                        onRegister(\n                          title,\n                          description,\n                          eventDate,\n                          addParticipantsEndDate,\n                          addParticipantsStartDate,\n                          allowDuplicates,\n                          rewards,\n                          participants\n                        );\n                      }\n                    }}\n                    disabled={!canAddEvent()}\n                  >\n                    Register\n                  </button>\n                </div>\n              </div>\n            </Transition.Child>\n          </div>\n        </Dialog>\n      </Transition>\n    </>\n  );\n};\n\nexport default AddEventDialog;\n","import { Fragment, useEffect, useState } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport { useTimeoutFn } from \"react-use\";\nimport { toDate, formatDate } from \"./utils\";\nimport * as nearAPI from 'near-api-js'\n\nconst EventCard = ({\n  currentEvent,\n  index,\n  delay,\n  contract,\n  currentUser,\n  nearConfig,\n  wallet,\n  onLoading,\n  onEventSelected,\n}) => {\n  let [isShowing, setIsShowing] = useState(false);\n  let [isHovered, setIsHovered] = useState(false);\n  const [event, setEvent] = useState(currentEvent);\n\n  const eventDate = toDate(event.event_timestamp);\n  const finalizedDate =\n    event.finalized_timestamp && event.finalized_timestamp !== \"0\"\n      ? toDate(event.finalized_timestamp)\n      : undefined;\n  const addParticipantsStartDate = toDate(\n    event.add_participants_start_timestamp\n  );\n  const addParticipantsEndDate = toDate(event.add_participants_end_timestamp);\n\n  useEffect(() => {\n    if (onLoading) {\n      onLoading(true);\n      contract.get_event({ event_id: event.event_id }).then(\n        (event) => {\n          onLoading(false);\n          setEvent(event);\n        },\n        (err) => {\n          onLoading(false);\n        }\n      );\n    }\n  }, [contract, event.event_id, onLoading]);\n\n  let [, , resetIsShowing] = useTimeoutFn(\n    () => setIsShowing(true),\n    index * 200\n  );\n\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n\n  return (\n    <Transition\n      as={Fragment}\n      show={isShowing}\n      enter={`transform transition duration-[${delay}ms]`}\n      enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n      enterTo=\"opacity-100 rotate-0 scale-100\"\n      leave=\"transform duration-200 transition ease-in-out\"\n      leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n      leaveTo=\"opacity-0 scale-95 \"\n    >\n      <div\n        onClick={() => onEventSelected(event)}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n        className={`w-full bg-gradient-to-r ${\n          isHovered\n            ? \"from-yellow-500 to-red-600\"\n            : \"from-yellow-400 to-red-500\"\n        }  p-6 max-w-sm mx-auto rounded-xl flex-col shadow-md flex space-y-2 cursor-pointer`}\n      >\n        <div className=\"text-xl font-medium text-black text-center\">\n          {event.title}\n        </div>\n        <div className=\"text-xl font-medium text-black break-all flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n            />\n          </svg>\n          {event.description}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          <div className=\"mr-2\">\n            Created: <br /> {formatDate(eventDate)}\n          </div>\n          {finalizedDate && (\n            <div>\n              Finalized: <br /> {formatDate(finalizedDate)}\n            </div>\n          )}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n            />\n          </svg>\n          <p className=\"flex-wrap\">\n            Accept participants: <br /> {formatDate(addParticipantsStartDate)} -{\" \"}\n            {formatDate(addParticipantsEndDate)}\n          </p>\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          <p>Rewards:</p>\n          {event.rewards &&\n            event.rewards.map((r, i) => (\n              <div\n                className=\"pr-2 pl-2 ml-2 bg-gradient-to-r from-green-300 to-green-500 rounded-lg\"\n                key={i}\n              >{`${nearAPI.utils.format.formatNearAmount(r, 2)}`}</div>\n            ))}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"\n            />\n          </svg>\n          {!event.participants ||\n            (event.participants &&\n              event.participants.length === 0 &&\n              \"No participants yet, only owner can add new participants.\")}\n          {event.participants &&\n            event.participants.length > 0 &&\n            `${event.participants.length} total participants.`}\n        </div>\n      </div>\n    </Transition>\n  );\n};\n\nexport default EventCard;\n","import { Fragment, useState, useEffect } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport { useTimeoutFn } from \"react-use\";\nimport { toDate, formatDate, accountExist } from \"./utils\";\nimport { WithContext as ReactTags } from \"react-tag-input\";\nimport { delimiters } from \"./utils\";\nimport { BOATLOAD_OF_GAS } from \"./utils\";\nimport moment from \"moment\";\nimport * as nearAPI from 'near-api-js'\n\nconst EventDetails = ({\n  currentEvent,\n  contract,\n  currentUser,\n  nearConfig,\n  wallet,\n  onClose,\n  onLoading,\n  onError,\n}) => {\n  const [isShowing, setIsShowing] = useState(false);\n  const [closeButtonColor, setCloseButtonColor] = useState(\"#000\");\n  const [event, setEvent] = useState(currentEvent);\n  const [shouldReloadEvent, setShouldReloadEvent] = useState(false);\n  const [newParticipants, setNewParticipants] = useState([]);\n  const [isFinalizeEventDisabled, setIsFinalizeEventDisabled] = useState(false);\n\n  let [, , resetIsShowing] = useTimeoutFn(() => setIsShowing(true), 100);\n  useEffect(() => {\n    resetIsShowing();\n    if(event && event.event_timestamp) {\n      setIsFinalizeEventDisabled(toDate(event.event_timestamp).isAfter(moment()));\n    }\n  }, [resetIsShowing, setIsFinalizeEventDisabled]);\n\n  const isOwner =\n    event.owner_account_id &&\n    currentUser &&\n    event.owner_account_id === currentUser.accountId;\n\n  const eventDate = toDate(event.event_timestamp);\n  const finalizedDate =\n    event.finalized_timestamp && event.finalized_timestamp !== \"0\"\n      ? toDate(event.finalized_timestamp)\n      : undefined;\n  const addParticipantsStartDate = toDate(\n    event.add_participants_start_timestamp\n  );\n  const addParticipantsEndDate = toDate(event.add_participants_end_timestamp);\n\n  const finalizeEvent = () => {\n    if (!finalizedDate && eventDate.isBefore(moment())) {\n      onLoading(true);\n      contract\n        .finalize_event(\n          {\n            event_id: event.id,\n          },\n          BOATLOAD_OF_GAS\n        )\n        .then(\n          () => {\n            setShouldReloadEvent(true);\n            onLoading(false);\n          },\n          (err) => {\n            onLoading(false);\n            onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n          }\n        );\n    }\n  };\n\n  const saveNewParticipants = () => {\n    if (newParticipants.length > 0) {\n      onLoading(true);\n      contract\n        .insert_participants(\n          {\n            event_id: event.event_id,\n            participants: newParticipants.map((p) => p.id),\n          },\n          BOATLOAD_OF_GAS\n        )\n        .then(\n          () => {\n            setShouldReloadEvent(true);\n            onLoading(false);\n          },\n          (err) => {\n            onLoading(false);\n            onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n          }\n        );\n    }\n  };\n\n  const handleDeleteParticipant = (i) => {\n    setNewParticipants(newParticipants.filter((p, index) => index !== i));\n  };\n\n  const handleAddParticipant = (p) => {\n    accountExist(p.text).then(result=>{\n      if(result) {\n        setNewParticipants([...newParticipants, p]);\n      }\n      else{\n        alert(\"Illegal account \" + p.text)\n      }\n    });\n  };\n\n  const handleDragParticipant = (tag, currPos, newPos) => {\n    const newTags = newParticipants.slice();\n    newTags.splice(currPos, 1);\n    newTags.splice(newPos, 0, tag);\n    setNewParticipants(newTags);\n  };\n\n  useEffect(() => {\n    if (shouldReloadEvent && onLoading && onError) {\n      const eventId = event.id;\n      contract\n        .get_event(\n          {\n            event_id: eventId,\n          },\n          BOATLOAD_OF_GAS\n        )\n        .then(\n          (event) => {\n            setEvent({ ...event, id: eventId });\n            setShouldReloadEvent(false);\n            onLoading(false);\n          },\n          (err) => {\n            setShouldReloadEvent(false);\n            onLoading(false);\n            onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n          }\n        );\n    }\n  }, [contract, event.id, shouldReloadEvent, onLoading, onError]);\n\n  return (\n    <Transition\n      as={Fragment}\n      show={isShowing}\n      enter={`transform transition duration-[20ms]`}\n      enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n      enterTo=\"opacity-100 rotate-0 scale-100\"\n      leave=\"transform duration-200 transition ease-in-out\"\n      leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n      leaveTo=\"opacity-0 scale-95 \"\n    >\n      <div className=\"mw-800 bg-gradient-to-r from-indigo-300 to-indigo-500 p-6 rounded-xl flex-col shadow-md flex\">\n        <div className=\"text-2xl flex justify-between font-medium items-center mb-4\">\n          <div className=\"mt-2 text-2xl text-center font-medium text-black\">\n            {event.title}\n          </div>\n          <button\n            className=\"font-medium \"\n            onClick={onClose}\n            onMouseEnter={() => setCloseButtonColor(\"#ddd\")}\n            onMouseLeave={() => setCloseButtonColor(\"#000\")}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-6 w-6\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke={closeButtonColor}\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n        <div className=\"text-xl font-medium text-black flex flex-row items-center justify-between\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n            />\n          </svg>\n          <p className=\"flex-grow\">{event.description}</p>\n          {!finalizedDate && finalizedDate !== \"0\" && (\n            <button\n              className=\"disabled:opacity-50 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded flex-none\"\n              disabled={isFinalizeEventDisabled}\n              onClick={finalizeEvent}\n            >\n              Finalize Event\n            </button>\n          )}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row items-center\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          <p className=\"flex-grow\">Draw date: {formatDate(eventDate)}</p>\n          {finalizedDate && <p>Finalized date: {formatDate(finalizedDate)}</p>}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row items-center mt-2\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n            />\n          </svg>\n          Accepting participants: {formatDate(addParticipantsStartDate)} -{\" \"}\n          {formatDate(addParticipantsEndDate)}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row items-center mt-2\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          Rewards (NEAR):\n          {event.rewards &&\n            event.rewards.map((r, i) => (\n              <div\n                className=\"pr-2 pl-2 ml-2 bg-gradient-to-r from-green-300 to-green-500 rounded-lg\"\n                key={i}\n              >\n                {nearAPI.utils.format.formatNearAmount(r, 2)}\n              </div>\n            ))}\n        </div>\n        <div className=\"text-xl font-medium text-black text-center\">\n          {event.participants.length > 0\n            ? \"Participants:\"\n            : \"No participants yet, add participants before the end date.\"}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row items-center\">\n          {event && event.participants && event.participants.length > 0 && (\n            <div>\n              {event.participants.map((p, index) => {\n                return <Participant key={index} participant={p} />;\n              })}\n            </div>\n          )}\n        </div>\n        {isOwner && (\n          <>\n            <div className=\"text-xl font-medium text-black text-center\">\n              Add participants:\n            </div>\n            <div className={`mt-4 flex mr-4`}>\n              <div className=\"flex-auto\">\n                <ReactTags\n                  tags={newParticipants}\n                  delimiters={delimiters}\n                  handleDelete={handleDeleteParticipant}\n                  handleAddition={handleAddParticipant}\n                  handleDrag={handleDragParticipant}\n                  inputFieldPosition=\"top\"\n                  allowUnique={!event.allowDuplicates}\n                  placeholder=\"Insert participants\"\n                  allowDragDrop={true}\n                  inline={true}\n                />\n              </div>\n              <button\n                className=\"disabled:opacity-50 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded flex-none h-12\"\n                disabled={newParticipants.length === 0}\n                onClick={saveNewParticipants}\n              >\n                Save\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n    </Transition>\n  );\n};\n\nconst Participant = ({ participant }) => {\n  return <div className=\"flex text-md\">{participant}</div>;\n};\n\nexport default EventDetails;\n","import React, { useState, useEffect } from \"react\";\nimport AddEventCard from \"./AddEventCard\";\nimport AddEventDialog from \"./AddEventDialog\";\nimport EventCard from \"./EventCard\";\nimport EventDetails from \"./EventDetails\";\nimport moment from \"moment\";\nimport { BOATLOAD_OF_GAS } from \"./utils\";\nimport * as nearAPI from 'near-api-js'\n\nconst Events = ({\n  contract,\n  currentUser,\n  nearConfig,\n  wallet,\n  onLoading,\n  onError,\n}) => {\n  const [events, setEvents] = useState();\n  const [shouldReloadEvents, setShouldReloadEvents] = useState(true);\n  const [selectedEvent, setSelectedEvent] = useState();\n  const [isNewEventDialogOpen, setIsNewEventDialogOpen] = useState(false);\n\n  const activateEvent = (election) => {\n    localStorage.setItem(\"activeEvent\", election.id);\n    setSelectedEvent(election);\n  };\n\n  const deactivateEvent = () => {\n    localStorage.removeItem(\"activeEvent\");\n    setSelectedEvent(null);\n  };\n\n  const toNano = (date) => {\n    return `${moment(date).format(\"x\")}000000`;\n  };\n\n  const registerEvent = (\n    title,\n    description,\n    eventDate,\n    addParticipantsEndDate,\n    addParticipantsStartDate,\n    allowDuplicates,\n    rewards,\n    participants\n  ) => {\n    onLoading(true);\n\n    const totalRewards = rewards\n      .map((r) => r.id)\n      .reduce((a, b) => parseFloat(a) + parseFloat(b));\n\n    const serviceFee = Math.min(10, totalRewards * 0.01);\n\n    contract\n      .add_event(\n        {\n          event_input: {\n            title,\n            description,\n            rewards: rewards.map((r) => nearAPI.utils.format.parseNearAmount(r.id.toString())),\n            participants: participants.map((p) => p.id),\n            allow_duplicate_participants: allowDuplicates,\n            event_timestamp: toNano(eventDate),\n            add_participants_start_timestamp: toNano(addParticipantsStartDate),\n            add_participants_end_timestamp: toNano(addParticipantsEndDate),\n          },\n        },\n        BOATLOAD_OF_GAS,\n        nearAPI.utils.format.parseNearAmount((serviceFee + totalRewards).toString())\n      )\n      .then(\n        () => {\n          onLoading(false);\n          setIsNewEventDialogOpen(false);\n        },\n        (err) => {\n          onLoading(false);\n          onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n        }\n      );\n  };\n\n  useEffect(async () => {\n    if (onLoading && shouldReloadEvents) {\n      onLoading(true);\n      let fromIndex = 0;\n      const limit = 30;\n      let newEvents = [];\n      while (true) {\n        try {\n          let events = await contract.get_events({from_index: fromIndex, limit: limit});\n          newEvents = newEvents.concat(events);\n          if (events.length !== limit)\n            break;\n\n          fromIndex += limit;\n        }\n        catch (err){\n          onError(`${err}`);\n          break;\n        }\n      }\n      newEvents = newEvents.sort((a,b) => parseInt(b.event_timestamp) - parseInt(a.event_timestamp));\n\n      if(newEvents.length){\n        setEvents(newEvents);\n      }\n      setShouldReloadEvents(false);\n      onLoading(false);\n    }\n  }, [contract, onLoading,  onError, shouldReloadEvents]);\n\n  return (\n    <>\n      <div className=\"container mx-auto flex-row\">\n        {!selectedEvent && (\n          <div className=\"grid lg:grid-cols-4 md:grid-cols-2 xs:grid-cols-1 gap-4\">\n            <AddEventCard onAddEvent={() => setIsNewEventDialogOpen(true)} />\n            {events &&\n              events.map((event, index) => {\n                return (\n                  <EventCard\n                    key={index}\n                    currentEvent={event}\n                    delay={20}\n                    index={index}\n                    contract={contract}\n                    currentUser={currentUser}\n                    nearConfig={nearConfig}\n                    wallet={wallet}\n                    onLoading={onLoading}\n                    onEventSelected={activateEvent}\n                  />\n                );\n              })}\n          </div>\n        )}\n        {isNewEventDialogOpen && (\n          <AddEventDialog\n            isOpen={isNewEventDialogOpen}\n            onClose={() => setIsNewEventDialogOpen(false)}\n            onRegister={registerEvent}\n          />\n        )}\n        {selectedEvent && (\n          <div className=\"grid grid-cols-1\">\n            <EventDetails\n              currentEvent={selectedEvent}\n              contract={contract}\n              currentUser={currentUser}\n              nearConfig={nearConfig}\n              wallet={wallet}\n              onLoading={onLoading}\n              onError={onError}\n              onClose={deactivateEvent}\n            />\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Events;\n","import \"regenerator-runtime/runtime\";\nimport React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Authorization from \"./Authorization\";\nimport LoadingIndicator from \"./LoadingIndicator\";\nimport ErrorPopup from \"./ErrorPopup\";\nimport Events from \"./Events\";\n\nconst App = ({ contract, currentUser, nearConfig, wallet }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  return (\n    <div className=\"container mx-auto\">\n      <Authorization\n        contract={contract}\n        currentUser={currentUser}\n        nearConfig={nearConfig}\n        wallet={wallet}\n        onLoading={setIsLoading}\n      />\n      <ErrorPopup error={error} callback={() => setError(\"\")} />\n      <LoadingIndicator isLoading={isLoading} />\n      {currentUser && currentUser.accountId && (\n        <Events\n          contract={contract}\n          currentUser={currentUser}\n          nearConfig={nearConfig}\n          wallet={wallet}\n          onLoading={setIsLoading}\n          onError={setError}\n        />\n      )}\n    </div>\n  );\n};\n\nApp.propTypes = {\n  contract: PropTypes.shape({\n    get_events_to_finalize: PropTypes.func.isRequired,\n    get_events: PropTypes.func.isRequired,\n    get_event: PropTypes.func.isRequired,\n    get_payouts: PropTypes.func.isRequired,\n    add_event: PropTypes.func.isRequired,\n    insert_participants: PropTypes.func.isRequired,\n    finalize_event: PropTypes.func.isRequired,\n  }).isRequired,\n  currentUser: PropTypes.shape({\n    accountId: PropTypes.string.isRequired,\n    balance: PropTypes.string.isRequired,\n  }),\n  nearConfig: PropTypes.shape({\n    contractName: PropTypes.string.isRequired,\n  }).isRequired,\n  wallet: PropTypes.shape({\n    requestSignIn: PropTypes.func.isRequired,\n    signOut: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default App;\n","// src/index.js\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport getConfig from \"./config.js\";\nimport * as nearAPI from \"near-api-js\";\n\n// Initializing contract\nasync function initContract() {\n  const nearConfig = getConfig(process.env.NODE_ENV || \"testnet\");\n\n  // Initializing connection to the NEAR TestNet\n  const near = await nearAPI.connect({\n    deps: {\n      keyStore: new nearAPI.keyStores.BrowserLocalStorageKeyStore(),\n    },\n    ...nearConfig,\n  });\n\n  // Needed to access wallet\n  const walletConnection = new nearAPI.WalletConnection(near);\n\n  // Load in account data\n  let currentUser;\n  if (walletConnection.getAccountId()) {\n    currentUser = {\n      accountId: walletConnection.getAccountId(),\n      balance: (await walletConnection.account().state()).amount,\n    };\n  }\n\n  // Initializing our contract APIs by contract name and configuration\n  const contract = await new nearAPI.Contract(\n    walletConnection.account(),\n    nearConfig.contractName,\n    {\n      viewMethods: [\n        \"get_event\",\n        \"get_events\",\n        \"get_events_to_finalize\",\n        \"get_payouts\",\n      ],\n      changeMethods: [\"add_event\", \"insert_participants\", \"finalize_event\"],\n      sender: walletConnection.getAccountId(),\n    }\n  );\n\n  return { contract, currentUser, nearConfig, walletConnection };\n}\n\nwindow.nearInitPromise = initContract().then(\n  ({ contract, currentUser, nearConfig, walletConnection }) => {\n    ReactDOM.render(\n      <App\n        contract={contract}\n        currentUser={currentUser}\n        nearConfig={nearConfig}\n        wallet={walletConnection}\n      />,\n      document.getElementById(\"root\")\n    );\n  }\n);\n","import moment from \"moment\";\nimport Big from \"big.js\";\nimport * as nearAPI from 'near-api-js'\nimport getConfig from './config';\n\nexport const formatDate = (date) => {\n  return date.format(\"DD MMM yyyy HH:mm\");\n};\n\nexport const toDate = (date) => {\n  const timestamp = Math.floor(date / 1000000).toFixed();\n  return moment(timestamp, \"x\");\n};\n\nexport const BOATLOAD_OF_GAS = Big(3)\n  .times(10 ** 13)\n  .toFixed();\n\nconst KeyCodes = {\n  comma: 188,\n  enter: 13,\n  space: 32,\n};\n\nexport const accountExist = async (accountId) => {\n  const connection = getNearAccountConnection();\n  if (accountId.length === 44) {\n    let key = new nearAPI.utils.PublicKey({keyType: nearAPI.utils.key_pair.KeyType.ED25519, data: Buffer.from(accountId, 'hex')});\n    return !!(key.toString())\n  }\n\n  try {\n    await new nearAPI.Account(connection, accountId).state();\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\nfunction getNearAccountConnection() {\n  if (!window.connection) {\n    const config = getConfig(process.env.NODE_ENV || \"testnet\");\n    console.log(config)\n    const provider = new nearAPI.providers.JsonRpcProvider(config.nodeUrl);\n    window.connection = new nearAPI.Connection(config.nodeUrl, provider, {});\n  }\n  return window.connection;\n}\n\nexport const delimiters = [KeyCodes.comma, KeyCodes.enter, KeyCodes.space];\n","const CONTRACT_NAME =\n  process.env.CONTRACT_NAME || \"dev-1641421731569-38860898594754\";\n\nfunction getConfig(env) {\n  switch (env) {\n    case \"production\":\n    case \"mainnet\":\n      return {\n        networkId: \"mainnet\",\n        nodeUrl: \"https://rpc.mainnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.near.org\",\n        helperUrl: \"https://helper.mainnet.near.org\",\n        explorerUrl: \"https://explorer.mainnet.near.org\",\n      };\n    case \"development\":\n    case \"testnet\":\n      return {\n        networkId: \"testnet\",\n        nodeUrl: \"https://rpc.testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.testnet.near.org\",\n        helperUrl: \"https://helper.testnet.near.org\",\n        explorerUrl: \"https://explorer.testnet.near.org\",\n      };\n    case \"betanet\":\n      return {\n        networkId: \"betanet\",\n        nodeUrl: \"https://rpc.betanet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.betanet.near.org\",\n        helperUrl: \"https://helper.betanet.near.org\",\n        explorerUrl: \"https://explorer.betanet.near.org\",\n      };\n    case \"local\":\n      return {\n        networkId: \"local\",\n        nodeUrl: \"http://localhost:3030\",\n        keyPath: `${process.env.HOME}/.near/validator_key.json`,\n        walletUrl: \"http://localhost:4000/wallet\",\n        contractName: CONTRACT_NAME,\n      };\n    case \"test\":\n    case \"ci\":\n      return {\n        networkId: \"shared-test\",\n        nodeUrl: \"https://rpc.ci-testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        masterAccount: \"test.near\",\n      };\n    case \"ci-betanet\":\n      return {\n        networkId: \"shared-test-staging\",\n        nodeUrl: \"https://rpc.ci-betanet.near.org\",\n        contractName: CONTRACT_NAME,\n        masterAccount: \"test.near\",\n      };\n    default:\n      throw Error(\n        `Unconfigured environment '${env}'. Can be configured in src/config.js.`\n      );\n  }\n}\n\nmodule.exports = getConfig;\n"],"sourceRoot":""}