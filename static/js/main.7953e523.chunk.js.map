{"version":3,"sources":["Authorization.jsx","LoadingIndicator.jsx","ErrorPopup.jsx","AddEventCard.jsx","TextField.jsx","AddEventDialog.jsx","EventCard.jsx","Events.jsx","EventDetails.jsx","App.js","index.js","config.js","utils.js"],"names":["Authorization","contract","currentUser","nearConfig","wallet","useState","isShowing","setIsShowing","useTimeoutFn","resetIsShowing","useEffect","as","Fragment","show","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","className","to","src","alt","onClick","signOut","window","location","replace","origin","pathname","requestSignIn","contractName","LoadingIndicator","isLoading","ErrorPopup","error","callback","closeModal","appear","onClose","Child","Overlay","Title","type","AddEventCard","onAddEvent","isHovered","setIsHovered","onMouseEnter","onMouseLeave","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","TextField","label","value","lines","onValueChange","isDate","placeholder","htmlFor","onChange","date","name","id","rows","AddEventDialog","isOpen","onRegister","title","setTitle","description","setDescription","text","rewards","setRewards","participants","setParticipants","allowDuplicates","setAllowDuplicates","Date","eventDate","setEventDate","addParticipantsStartDate","setAddParticipantsStartDate","addParticipantsEndDate","setAddParticipantsEndDate","canAddEvent","length","moment","add","startOf","toDate","endOf","e","target","Group","Label","checked","ReactTags","tags","delimiters","handleDelete","i","filter","r","index","handleAddition","parseFloat","alert","inputFieldPosition","allowUnique","allowDragDrop","p","accountExist","then","result","handleDrag","tag","currPos","newPos","newTags","slice","splice","disabled","EventCard","currentEvent","delay","onLoading","event","setEvent","event_timestamp","finalizedDate","finalized_timestamp","undefined","add_participants_start_timestamp","add_participants_end_timestamp","get_event","event_id","err","formatDate","map","nearAPI","format","formatNearAmount","Events","onError","events","setEvents","shouldReloadEvents","setShouldReloadEvents","isNewEventDialogOpen","setIsNewEventDialogOpen","toNano","a","fromIndex","limit","newEvents","get_events","from_index","concat","sort","b","parseInt","reloadEvents","totalRewards","reduce","serviceFee","Math","min","add_event","event_input","parseNearAmount","toString","allow_duplicate_participants","BOATLOAD_OF_GAS","kind","Participant","participant","EventDetails","closeButtonColor","setCloseButtonColor","isOwner","setIsOwner","setFinalizedDate","shouldReloadEvent","setShouldReloadEvent","newParticipants","setNewParticipants","isFinalizeEventDisabled","setIsFinalizeEventDisabled","params","useParams","isAfter","eventId","owner_account_id","accountId","isBefore","finalize_event","inline","insert_participants","App","setIsLoading","setError","path","element","getConfig","deps","keyStore","BrowserLocalStorageKeyStore","near","walletConnection","getAccountId","account","state","amount","balance","viewMethods","changeMethods","sender","nearInitPromise","initContract","ReactDOM","render","document","getElementById","CONTRACT_NAME","process","module","exports","env","networkId","nodeUrl","walletUrl","helperUrl","explorerUrl","keyPath","HOME","masterAccount","Error","timestamp","floor","toFixed","Big","times","KeyCodes","connection","getNearAccountConnection","key","PublicKey","keyType","key_pair","KeyType","ED25519","data","Buffer","from","config","provider","JsonRpcProvider"],"mappings":"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","file":"static/js/main.7953e523.chunk.js","sourcesContent":["import { Fragment, useState, useEffect } from \"react\";\nimport { useTimeoutFn } from \"react-use\";\nimport { Transition } from \"@headlessui/react\";\nimport { Link } from \"react-router-dom\";\n\nconst Authorization = ({ contract, currentUser, nearConfig, wallet }) => {\n  const signIn = () => {\n    wallet.requestSignIn(nearConfig.contractName, \"NEAR Giveway\");\n  };\n\n  const signOut = () => {\n    wallet.signOut();\n    window.location.replace(window.location.origin + window.location.pathname);\n  };\n\n  let [isShowing, setIsShowing] = useState(true);\n  let [, , resetIsShowing] = useTimeoutFn(() => setIsShowing(true), 500);\n\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n\n  return (\n    <>\n      <Transition\n        as={Fragment}\n        show={isShowing}\n        enter=\"transform transition duration-[500ms]\"\n        enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n        enterTo=\"opacity-100 rotate-0 scale-100\"\n        leave=\"transform duration-200 transition ease-in-out\"\n        leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n        leaveTo=\"opacity-0 scale-95 \"\n      >\n        <div className=\"flex justify-between bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 mt-6 p-2 mx-auto rounded-xl shadow-md items-center\">\n          <Link to=\"/\">\n            <img\n              className=\"h-14 w-20\"\n              src=\"https://docs.near.org/img/near_logo.svg\"\n              alt=\"NEAR Logo\"\n            />\n          </Link>\n\n          <div className={`text-xl font-medium text-black uppercase`}>\n            NEAR Giveaway\n          </div>\n          <div className=\"flex justify-between\">\n            {currentUser ? (\n              <button\n                className=\"bg-gradient-to-r from-indigo-400 to-indigo-500 hover:from-indigo-700 hover:to-indigo-900 text-black hover:text-white py-2 px-4 rounded float-right\"\n                onClick={signOut}\n              >\n                Logout\n              </button>\n            ) : (\n              <button\n                className=\"bg-gradient-to-r from-indigo-400 to-indigo-500 hover:from-indigo-700 hover:to-indigo-900 text-black hover:text-white py-2 px-4 rounded float-right\"\n                onClick={signIn}\n              >\n                Login\n              </button>\n            )}\n          </div>\n        </div>\n      </Transition>\n    </>\n  );\n};\n\nexport default Authorization;\n","const LoadingIndicator = ({ isLoading }) => {\n  return (\n    <>\n      {isLoading ? (\n        <div className=\"my-4 mx-auto loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12\"></div>\n      ) : (\n        <div className=\"my-4 h-12 w-12\"></div>\n      )}\n    </>\n  );\n};\n\nexport default LoadingIndicator;\n","import { Dialog, Transition } from \"@headlessui/react\";\nimport { Fragment } from \"react\";\n\nexport default function ErrorPopup({ error, callback }) {\n  function closeModal() {\n    callback();\n  }\n\n  return (\n    <>\n      <Transition appear show={error !== \"\"} as={Fragment}>\n        <Dialog\n          as=\"div\"\n          className=\"fixed inset-0 z-10 overflow-y-auto\"\n          onClose={closeModal}\n        >\n          <div className=\"min-h-screen px-4 text-center\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0\"\n              enterTo=\"opacity-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100\"\n              leaveTo=\"opacity-0\"\n            >\n              <Dialog.Overlay className=\"fixed inset-0\" />\n            </Transition.Child>\n\n            {/* This element is to trick the browser into centering the modal contents. */}\n            <span\n              className=\"inline-block h-screen align-middle\"\n              aria-hidden=\"true\"\n            >\n              &#8203;\n            </span>\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <div className=\"inline-block w-full max-w-md p-6 my-4 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl\">\n                <Dialog.Title\n                  as=\"h3\"\n                  className=\"text-lg font-medium leading-6 text-gray-900\"\n                >\n                  Opps, something went wrong\n                </Dialog.Title>\n                <div className=\"mt-2\">\n                  <p className=\"text-sm text-gray-500\">{error}</p>\n                </div>\n\n                <div className=\"mt-4\">\n                  <button\n                    type=\"button\"\n                    className=\"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500\"\n                    onClick={closeModal}\n                  >\n                    Close\n                  </button>\n                </div>\n              </div>\n            </Transition.Child>\n          </div>\n        </Dialog>\n      </Transition>\n    </>\n  );\n}\n","import { Fragment, useEffect, useState } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport { useTimeoutFn } from \"react-use\";\n\nconst AddEventCard = ({ onAddEvent }) => {\n  let [isShowing, setIsShowing] = useState(false);\n  let [isHovered, setIsHovered] = useState(false);\n\n  let [, , resetIsShowing] = useTimeoutFn(() => setIsShowing(true), 100);\n\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n  return (\n    <Transition\n      as={Fragment}\n      show={isShowing}\n      enter={`transform transition duration-[200ms]`}\n      enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n      enterTo=\"opacity-100 rotate-0 scale-100\"\n      leave=\"transform duration-200 transition ease-in-out\"\n      leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n      leaveTo=\"opacity-0 scale-95 \"\n    >\n      <button\n        onClick={onAddEvent}\n        className={`w-full bg-gradient-to-r ${\n          isHovered\n            ? \"from-green-300 to-blue-500\"\n            : \"from-green-100 to-blue-300\"\n        } p-6 mx-auto max-w-sm rounded-xl shadow-md cursor-pointer`}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"h-6 w-6 mx-auto\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M12 4v16m8-8H4\"\n          />\n        </svg>\n      </button>\n    </Transition>\n  );\n};\n\nexport default AddEventCard;\n","import DateTimePicker from \"react-datetime-picker\";\n\nconst TextField = ({\n  label,\n  value,\n  lines,\n  onValueChange,\n  isDate,\n  placeholder,\n}) => {\n  return (\n    <div className=\"mt-2 flex justify-between rounded-md\">\n      <label\n        htmlFor={label}\n        className=\"block text-sm font-medium text-gray-700 w-1/3 mr-2\"\n      >\n        {label}\n      </label>\n      {isDate ? (\n        <DateTimePicker\n          className=\"border-2 p-1 focus:ring-indigo-500 focus:border-indigo-500 block w-2/3 sm:text-sm border-gray-200 rounded-md\"\n          value={value}\n          onChange={(date) => onValueChange(date)}\n        />\n      ) : lines ? (\n        <textarea\n          className=\"border-2 p-1 focus:ring-indigo-500 focus:border-indigo-500 block w-2/3 sm:text-sm border-gray-200 rounded-md\"\n          name={label}\n          id={label}\n          rows={lines}\n          placeholder={placeholder || \"\"}\n          onChange={onValueChange}\n        ></textarea>\n      ) : (\n        <input\n          type=\"text\"\n          name={label}\n          id={label}\n          placeholder={placeholder || \"\"}\n          className=\"border-2 p-1 focus:ring-indigo-500 focus:border-indigo-500 block w-2/3 sm:text-sm border-gray-200 rounded-md\"\n          value={value}\n          onChange={onValueChange}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TextField;\n","import { Dialog, Transition } from \"@headlessui/react\";\nimport { Switch } from \"@headlessui/react\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport TextField from \"./TextField\";\nimport moment from \"moment\";\nimport { WithContext as ReactTags } from \"react-tag-input\";\nimport { delimiters, accountExist} from \"./utils\";\n\nconst AddEventDialog = ({ isOpen, onClose, onRegister }) => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [rewards, setRewards] = useState([{ id: \"1\", text: \"1\" }]);\n  const [participants, setParticipants] = useState([\n    { id: \"lkskrnk.testnet\", text: \"lkskrnk.testnet\" },\n  ]);\n  const [allowDuplicates, setAllowDuplicates] = useState(false);\n  const [eventDate, setEventDate] = useState(new Date());\n  const [addParticipantsStartDate, setAddParticipantsStartDate] = useState(new Date());\n  const [addParticipantsEndDate, setAddParticipantsEndDate] = useState(new Date());\n\n  const handleDeleteReward = (i) => {\n    setRewards(rewards.filter((r, index) => index !== i));\n  };\n\n  const handleAddReward = (r) => {\n    if(parseFloat(r.id) > 0) {\n      setRewards([...rewards, r]);\n    }\n    else {\n      alert(\"Illegal reward \" + r.id)\n    }\n  };\n\n  const handleDeleteParticipant = (i) => {\n    setParticipants(participants.filter((p, index) => index !== i));\n  };\n\n  const handleAddParticipant = (p) => {\n    accountExist(p.id).then(result=>{\n      if(result) {\n        setParticipants([...participants, p]);\n      }\n      else{\n        alert(\"Illegal account \" + p.id)\n      }\n    });\n  };\n\n  const handleDragParticipant = (tag, currPos, newPos) => {\n    const newTags = participants.slice();\n    newTags.splice(currPos, 1);\n    newTags.splice(newPos, 0, tag);\n    setParticipants(newTags);\n  };\n\n  const canAddEvent = () => {\n    return (\n      title &&\n      title.length > 0 &&\n      description &&\n      description.length > 0 &&\n      rewards.length > 0 &&\n      eventDate &&\n      addParticipantsStartDate\n    );\n  };\n\n  useEffect(() => {\n    if(isOpen) {\n      setEventDate(moment().add(8, \"days\").startOf(\"day\").toDate())\n      setAddParticipantsStartDate(moment().add(1, \"day\").startOf(\"day\").toDate())\n      setAddParticipantsEndDate(moment().add(7, \"days\").endOf(\"day\").toDate())\n    }\n  }, [isOpen]);\n\n  return (\n    <>\n      <Transition appear show={isOpen} as={Fragment}>\n        <Dialog\n          as=\"div\"\n          className=\"fixed inset-0 z-10 overflow-y-auto\"\n          onClose={onClose}\n        >\n          <div className=\"min-h-screen px-4 text-center\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-100\"\n              enterFrom=\"opacity-0\"\n              enterTo=\"opacity-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100\"\n              leaveTo=\"opacity-0\"\n            >\n              <Dialog.Overlay className=\"fixed inset-0\" />\n            </Transition.Child>\n\n            {/* This element is to trick the browser into centering the modal contents. */}\n            <span\n              className=\"inline-block h-screen align-middle\"\n              aria-hidden=\"true\"\n            >\n              &#8203;\n            </span>\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <div className=\"inline-block w-full max-w-md p-6 my-4 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl\">\n                <Dialog.Title\n                  as=\"h3\"\n                  className=\"text-lg font-medium leading-6 text-gray-900\"\n                >\n                  New event\n                </Dialog.Title>\n                <div className=\"mt-2 mb-2\">\n                  <p className=\"text-sm text-gray-500\">\n                    Fill in the event details and press register.\n                  </p>\n                </div>\n                <hr />\n                <TextField\n                  label=\"Title\"\n                  placeholder=\"Enter title\"\n                  value={title}\n                  onValueChange={(e) => setTitle(e.target.value)}\n                />\n                <TextField\n                  label=\"Description\"\n                  value={description}\n                  placeholder=\"Enter description\"\n                  onValueChange={(e) => setDescription(e.target.value)}\n                />\n\n                <TextField\n                  label=\"Accept participants from\"\n                  value={addParticipantsStartDate}\n                  isDate={true}\n                  onValueChange={(date) => setAddParticipantsStartDate(date)}\n                />\n\n                <TextField\n                  label=\"Accept participants until\"\n                  value={addParticipantsEndDate}\n                  isDate={true}\n                  onValueChange={(date) => setAddParticipantsEndDate(date)}\n                />\n\n                <TextField\n                  label=\"Draw date\"\n                  value={eventDate}\n                  isDate={true}\n                  onValueChange={(date) => setEventDate(date)}\n                />\n\n                <div className=\"mt-4\">\n                  <Switch.Group>\n                    <div className=\"flex justify-between\">\n                      <Switch.Label>Allow duplicates</Switch.Label>\n                      <Switch\n                        checked={allowDuplicates}\n                        onChange={setAllowDuplicates}\n                        className={`${\n                          allowDuplicates ? \"bg-blue-600\" : \"bg-gray-200\"\n                        } relative inline-flex items-center h-6 rounded-full w-11`}\n                      >\n                        <span\n                          className={`${\n                            allowDuplicates ? \"translate-x-6\" : \"translate-x-1\"\n                          } inline-block w-4 h-4 transform bg-white rounded-full`}\n                        />\n                      </Switch>\n                    </div>\n                  </Switch.Group>\n                </div>\n\n                <div className={`mt-4`}>\n                  <label className=\"mb-2\" htmlFor=\"rewards\">\n                    Rewards (NEAR):\n                  </label>\n                  <ReactTags\n                    tags={rewards}\n                    delimiters={delimiters}\n                    handleDelete={handleDeleteReward}\n                    handleAddition={handleAddReward}\n                    inputFieldPosition=\"top\"\n                    allowUnique={false}\n                    placeholder=\"Insert rewards\"\n                    allowDragDrop={false}\n                  />\n                </div>\n\n                <div className={`mt-4`}>\n                  <label className=\"mb-2\" htmlFor=\"participants\">\n                    Participants:\n                  </label>\n                  <ReactTags\n                    tags={participants}\n                    delimiters={delimiters}\n                    handleDelete={handleDeleteParticipant}\n                    handleAddition={handleAddParticipant}\n                    handleDrag={handleDragParticipant}\n                    inputFieldPosition=\"top\"\n                    allowUnique={!allowDuplicates}\n                    placeholder=\"Insert participants\"\n                    allowDragDrop={true}\n                  />\n                </div>\n\n                <div className=\"mt-4 flex justify-between\">\n                  <button\n                    type=\"button\"\n                    className=\"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500\"\n                    onClick={onClose}\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 disabled:opacity-30\"\n                    onClick={() => {\n                      if (canAddEvent) {\n                        onRegister(\n                          title,\n                          description,\n                          eventDate,\n                          addParticipantsEndDate,\n                          addParticipantsStartDate,\n                          allowDuplicates,\n                          rewards,\n                          participants\n                        );\n                      }\n                    }}\n                    disabled={!canAddEvent()}\n                  >\n                    Register\n                  </button>\n                </div>\n              </div>\n            </Transition.Child>\n          </div>\n        </Dialog>\n      </Transition>\n    </>\n  );\n};\n\nexport default AddEventDialog;\n","import { Fragment, useEffect, useState } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport { useTimeoutFn } from \"react-use\";\nimport { toDate, formatDate } from \"./utils\";\nimport * as nearAPI from \"near-api-js\";\nimport { Link } from \"react-router-dom\";\n\nconst EventCard = ({ currentEvent, index, delay, contract, onLoading }) => {\n  let [isShowing, setIsShowing] = useState(false);\n  let [isHovered, setIsHovered] = useState(false);\n  const [event, setEvent] = useState(currentEvent);\n\n  const eventDate = toDate(event.event_timestamp);\n  const finalizedDate =\n    event.finalized_timestamp && event.finalized_timestamp !== \"0\"\n      ? toDate(event.finalized_timestamp)\n      : undefined;\n  const addParticipantsStartDate = toDate(\n    event.add_participants_start_timestamp\n  );\n  const addParticipantsEndDate = toDate(event.add_participants_end_timestamp);\n\n  useEffect(() => {\n    if (onLoading) {\n      onLoading(true);\n      contract.get_event({ event_id: event.event_id }).then(\n        (event) => {\n          onLoading(false);\n          setEvent(event);\n        },\n        (err) => {\n          onLoading(false);\n        }\n      );\n    }\n  }, [contract, event.event_id, onLoading]);\n\n  let [, , resetIsShowing] = useTimeoutFn(\n    () => setIsShowing(true),\n    index * 200\n  );\n\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n\n  return (\n    <Transition\n      as={Fragment}\n      show={isShowing}\n      enter={`transform transition duration-[${delay}ms]`}\n      enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n      enterTo=\"opacity-100 rotate-0 scale-100\"\n      leave=\"transform duration-200 transition ease-in-out\"\n      leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n      leaveTo=\"opacity-0 scale-95 \"\n    >\n      <Link\n        to={`events/${event.event_id}`}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n        className={`w-full bg-gradient-to-r ${\n          isHovered\n            ? \"from-yellow-500 to-red-600\"\n            : \"from-yellow-400 to-red-500\"\n        }  p-6 max-w-sm mx-auto rounded-xl flex-col shadow-md flex space-y-2 cursor-pointer`}\n      >\n        <div className=\"text-xl font-medium text-black text-center\">\n          {event.title}\n        </div>\n        <div className=\"text-xl font-medium text-black break-all flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n            />\n          </svg>\n          {event.description}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          <div className=\"mr-2\">\n            Created: <br /> {formatDate(eventDate)}\n          </div>\n          {finalizedDate && (\n            <div>\n              Finalized: <br /> {formatDate(finalizedDate)}\n            </div>\n          )}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n            />\n          </svg>\n          <p className=\"flex-wrap\">\n            Accept participants: <br /> {formatDate(addParticipantsStartDate)} -{\" \"}\n            {formatDate(addParticipantsEndDate)}\n          </p>\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          <p>Rewards:</p>\n          {event.rewards &&\n            event.rewards.map((r, i) => (\n              <div\n                className=\"pr-2 pl-2 ml-2 bg-gradient-to-r from-green-300 to-green-500 rounded-lg\"\n                key={i}\n              >{`${nearAPI.utils.format.formatNearAmount(r, 2)}`}</div>\n            ))}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row justify-start\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"\n            />\n          </svg>\n          {!event.participants ||\n            (event.participants &&\n              event.participants.length === 0 &&\n              \"No participants yet, only owner can add new participants.\")}\n          {event.participants &&\n            event.participants.length > 0 &&\n            `${event.participants.length} total participants.`}\n        </div>\n      </Link>\n    </Transition>\n  );\n};\n\nexport default EventCard;\n","import React, { useState, useEffect } from \"react\";\nimport AddEventCard from \"./AddEventCard\";\nimport AddEventDialog from \"./AddEventDialog\";\nimport EventCard from \"./EventCard\";\nimport moment from \"moment\";\nimport { BOATLOAD_OF_GAS } from \"./utils\";\nimport * as nearAPI from \"near-api-js\";\n\nconst Events = ({\n  contract,\n  currentUser,\n  nearConfig,\n  wallet,\n  onLoading,\n  onError,\n}) => {\n  const [events, setEvents] = useState();\n  const [shouldReloadEvents, setShouldReloadEvents] = useState(true);\n  const [isNewEventDialogOpen, setIsNewEventDialogOpen] = useState(false);\n  const toNano = (date) => {\n    return `${moment(date).format(\"x\")}000000`;\n  };\n\n  const registerEvent = (\n    title,\n    description,\n    eventDate,\n    addParticipantsEndDate,\n    addParticipantsStartDate,\n    allowDuplicates,\n    rewards,\n    participants\n  ) => {\n    onLoading(true);\n\n    const totalRewards = rewards\n      .map((r) => r.id)\n      .reduce((a, b) => parseFloat(a) + parseFloat(b));\n\n    const serviceFee = Math.min(10, totalRewards * 0.01);\n\n    contract\n      .add_event(\n        {\n          event_input: {\n            title,\n            description,\n            rewards: rewards.map((r) =>\n              nearAPI.utils.format.parseNearAmount(r.id.toString())\n            ),\n            participants: participants.map((p) => p.id),\n            allow_duplicate_participants: allowDuplicates,\n            event_timestamp: toNano(eventDate),\n            add_participants_start_timestamp: toNano(addParticipantsStartDate),\n            add_participants_end_timestamp: toNano(addParticipantsEndDate),\n          },\n        },\n        BOATLOAD_OF_GAS,\n        nearAPI.utils.format.parseNearAmount(\n          (serviceFee + totalRewards).toString()\n        )\n      )\n      .then(\n        () => {\n          onLoading(false);\n          setIsNewEventDialogOpen(false);\n        },\n        (err) => {\n          onLoading(false);\n          onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n        }\n      );\n  };\n\n  useEffect(() => {\n    async function reloadEvents() {\n      if (onLoading && shouldReloadEvents) {\n        onLoading(true);\n        let fromIndex = 0;\n        const limit = 30;\n        let newEvents = [];\n        while (true) {\n          try {\n            let events = await contract.get_events({\n              from_index: fromIndex,\n              limit: limit,\n            });\n            newEvents = newEvents.concat(events);\n            if (events.length !== limit) break;\n\n            fromIndex += limit;\n          } catch (err) {\n            onError(`${err}`);\n            break;\n          }\n        }\n        newEvents = newEvents.sort(\n          (a, b) => parseInt(b.event_timestamp) - parseInt(a.event_timestamp)\n        );\n\n        if (newEvents.length) {\n          setEvents(newEvents);\n        }\n        setShouldReloadEvents(false);\n        onLoading(false);\n      }\n    }\n    reloadEvents();\n  }, [contract, onLoading, onError, shouldReloadEvents]);\n\n  return (\n    <>\n      <div className=\"container mx-auto flex-row\">\n        <div className=\"grid lg:grid-cols-4 md:grid-cols-2 xs:grid-cols-1 gap-4\">\n          <AddEventCard onAddEvent={() => setIsNewEventDialogOpen(true)} />\n          {events &&\n            events.map((event, index) => {\n              return (\n                <EventCard\n                  key={index}\n                  currentEvent={event}\n                  delay={20}\n                  index={index}\n                  contract={contract}\n                  onLoading={onLoading}\n                />\n              );\n            })}\n        </div>\n        {/* )} */}\n        {isNewEventDialogOpen && (\n          <AddEventDialog\n            isOpen={isNewEventDialogOpen}\n            onClose={() => setIsNewEventDialogOpen(false)}\n            onRegister={registerEvent}\n          />\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Events;\n","import { Fragment, useState, useEffect } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport { useTimeoutFn } from \"react-use\";\nimport { toDate, formatDate, accountExist } from \"./utils\";\nimport { WithContext as ReactTags } from \"react-tag-input\";\nimport { delimiters } from \"./utils\";\nimport { BOATLOAD_OF_GAS } from \"./utils\";\nimport LoadingIndicator from \"./LoadingIndicator\";\nimport moment from \"moment\";\nimport * as nearAPI from \"near-api-js\";\nimport { Link, useParams } from \"react-router-dom\";\n\nconst EventDetails = ({\n  contract,\n  currentUser,\n  onClose,\n  onLoading,\n  onError,\n}) => {\n  const [isShowing, setIsShowing] = useState(false);\n  const [closeButtonColor, setCloseButtonColor] = useState(\"#000\");\n  const [event, setEvent] = useState();\n  const [isOwner, setIsOwner] = useState();\n  const [eventDate, setEventDate] = useState();\n  const [finalizedDate, setFinalizedDate] = useState();\n  const [addParticipantsStartDate, setAddParticipantsStartDate] = useState();\n  const [addParticipantsEndDate, setAddParticipantsEndDate] = useState();\n  const [shouldReloadEvent, setShouldReloadEvent] = useState(true);\n  const [newParticipants, setNewParticipants] = useState([]);\n  const [isFinalizeEventDisabled, setIsFinalizeEventDisabled] = useState(false);\n\n  let params = useParams();\n\n  let [, , resetIsShowing] = useTimeoutFn(() => setIsShowing(true), 100);\n  useEffect(() => {\n    resetIsShowing();\n    if (event && event.event_timestamp) {\n      setIsFinalizeEventDisabled(\n        toDate(event.event_timestamp).isAfter(moment())\n      );\n    }\n  }, [resetIsShowing, setIsFinalizeEventDisabled, event]);\n\n  const finalizeEvent = () => {\n    if (!finalizedDate && eventDate.isBefore(moment())) {\n      onLoading(true);\n      contract\n        .finalize_event(\n          {\n            event_id: event.id,\n          },\n          BOATLOAD_OF_GAS\n        )\n        .then(\n          () => {\n            setShouldReloadEvent(true);\n            onLoading(false);\n          },\n          (err) => {\n            onLoading(false);\n            onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n          }\n        );\n    }\n  };\n\n  const saveNewParticipants = () => {\n    if (newParticipants.length > 0) {\n      onLoading(true);\n      contract\n        .insert_participants(\n          {\n            event_id: event.event_id,\n            participants: newParticipants.map((p) => p.id),\n          },\n          BOATLOAD_OF_GAS\n        )\n        .then(\n          () => {\n            setShouldReloadEvent(true);\n            onLoading(false);\n          },\n          (err) => {\n            onLoading(false);\n            onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n          }\n        );\n    }\n  };\n\n  const handleDeleteParticipant = (i) => {\n    setNewParticipants(newParticipants.filter((p, index) => index !== i));\n  };\n\n  const handleAddParticipant = (p) => {\n    accountExist(p.text).then((result) => {\n      if (result) {\n        setNewParticipants([...newParticipants, p]);\n      } else {\n        alert(\"Illegal account \" + p.text);\n      }\n    });\n  };\n\n  const handleDragParticipant = (tag, currPos, newPos) => {\n    const newTags = newParticipants.slice();\n    newTags.splice(currPos, 1);\n    newTags.splice(newPos, 0, tag);\n    setNewParticipants(newTags);\n  };\n\n  useEffect(() => {\n    const eventId = parseInt(params.eventId);\n    if (eventId && shouldReloadEvent && onLoading && onError) {\n      contract\n        .get_event({\n          event_id: eventId,\n        })\n        .then(\n          (event) => {\n            setEvent(event);\n            setIsOwner(\n              event.owner_account_id &&\n                currentUser &&\n                event.owner_account_id === currentUser.accountId\n            );\n\n            setEventDate(toDate(event.event_timestamp));\n            setFinalizedDate(\n              event.finalized_timestamp && event.finalized_timestamp !== \"0\"\n                ? toDate(event.finalized_timestamp)\n                : undefined\n            );\n            setAddParticipantsStartDate(\n              toDate(event.add_participants_start_timestamp)\n            );\n            setAddParticipantsEndDate(\n              toDate(event.add_participants_end_timestamp)\n            );\n            setShouldReloadEvent(false);\n            onLoading(false);\n          },\n          (err) => {\n            setShouldReloadEvent(false);\n            onLoading(false);\n            onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n          }\n        );\n    }\n  }, [\n    contract,\n    params.eventId,\n    currentUser,\n    shouldReloadEvent,\n    onLoading,\n    onError,\n  ]);\n\n  if (!event) {\n    return <LoadingIndicator isLoading={true} />;\n  }\n\n  return (\n    <Transition\n      as={Fragment}\n      show={isShowing}\n      enter={`transform transition duration-[20ms]`}\n      enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n      enterTo=\"opacity-100 rotate-0 scale-100\"\n      leave=\"transform duration-200 transition ease-in-out\"\n      leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n      leaveTo=\"opacity-0 scale-95 \"\n    >\n      <div className=\"mw-800 bg-gradient-to-r from-indigo-300 to-indigo-500 p-6 rounded-xl flex-col shadow-md flex\">\n        <div className=\"text-2xl flex justify-between font-medium items-center mb-4\">\n          <div className=\"mt-2 text-2xl text-center font-medium text-black\">\n            {event.title}\n          </div>\n          <Link\n            to=\"/\"\n            className=\"font-medium \"\n            onClick={onClose}\n            onMouseEnter={() => setCloseButtonColor(\"#ddd\")}\n            onMouseLeave={() => setCloseButtonColor(\"#000\")}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-6 w-6\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke={closeButtonColor}\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </Link>\n        </div>\n        <div className=\"text-xl font-medium text-black flex flex-row items-center justify-between\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1 flex-none\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n            />\n          </svg>\n          <p className=\"flex-grow\">{event.description}</p>\n          {!finalizedDate && finalizedDate !== \"0\" && (\n            <button\n              className=\"disabled:opacity-50 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded flex-none\"\n              disabled={isFinalizeEventDisabled}\n              onClick={finalizeEvent}\n            >\n              Finalize Event\n            </button>\n          )}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row items-center\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          {eventDate && (\n            <p className=\"flex-grow\">Draw date: {formatDate(eventDate)}</p>\n          )}\n          {finalizedDate && <p>Finalized date: {formatDate(finalizedDate)}</p>}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row items-center mt-2\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n            />\n          </svg>\n          Accepting participants: {formatDate(addParticipantsStartDate)} -{\" \"}\n          {formatDate(addParticipantsEndDate)}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row items-center mt-2\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6 mr-1\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          Rewards (NEAR):\n          {event.rewards &&\n            event.rewards.map((r, i) => (\n              <div\n                className=\"pr-2 pl-2 ml-2 bg-gradient-to-r from-green-300 to-green-500 rounded-lg\"\n                key={i}\n              >\n                {nearAPI.utils.format.formatNearAmount(r, 2)}\n              </div>\n            ))}\n        </div>\n        <div className=\"text-xl font-medium text-black text-center\">\n          {event.participants.length > 0\n            ? \"Participants:\"\n            : \"No participants yet, add participants before the end date.\"}\n        </div>\n        <div className=\"text-md font-medium text-black text flex flex-row items-center\">\n          {event && event.participants && event.participants.length > 0 && (\n            <div>\n              {event.participants.map((p, index) => {\n                return <Participant key={index} participant={p} />;\n              })}\n            </div>\n          )}\n        </div>\n        {isOwner && (\n          <>\n            <div className=\"text-xl font-medium text-black text-center\">\n              Add participants:\n            </div>\n            <div className={`mt-4 flex mr-4`}>\n              <div className=\"flex-auto\">\n                <ReactTags\n                  tags={newParticipants}\n                  delimiters={delimiters}\n                  handleDelete={handleDeleteParticipant}\n                  handleAddition={handleAddParticipant}\n                  handleDrag={handleDragParticipant}\n                  inputFieldPosition=\"top\"\n                  allowUnique={!event.allowDuplicates}\n                  placeholder=\"Insert participants\"\n                  allowDragDrop={true}\n                  inline={true}\n                />\n              </div>\n              <button\n                className=\"disabled:opacity-50 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded flex-none h-12\"\n                disabled={newParticipants.length === 0}\n                onClick={saveNewParticipants}\n              >\n                Save\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n    </Transition>\n  );\n};\n\nconst Participant = ({ participant }) => {\n  return <div className=\"flex text-md\">{participant}</div>;\n};\n\nexport default EventDetails;\n","import \"regenerator-runtime/runtime\";\nimport React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Authorization from \"./Authorization\";\nimport LoadingIndicator from \"./LoadingIndicator\";\nimport ErrorPopup from \"./ErrorPopup\";\nimport Events from \"./Events\";\nimport { Routes, Route } from \"react-router-dom\";\nimport EventDetails from \"./EventDetails\";\n\nconst App = ({ contract, currentUser, nearConfig, wallet }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  return (\n    <div className=\"container mx-auto\">\n      <Authorization\n        contract={contract}\n        currentUser={currentUser}\n        nearConfig={nearConfig}\n        wallet={wallet}\n        onLoading={setIsLoading}\n      />\n      <ErrorPopup error={error} callback={() => setError(\"\")} />\n      <LoadingIndicator isLoading={isLoading} />\n      {currentUser && currentUser.accountId && (\n        <Routes>\n          <Route\n            path=\"/\"\n            element={\n              <Events\n                contract={contract}\n                currentUser={currentUser}\n                nearConfig={nearConfig}\n                wallet={wallet}\n                onLoading={setIsLoading}\n                onError={setError}\n              />\n            }\n          />\n          <Route\n            path=\"events/:eventId\"\n            element={\n              <EventDetails\n                contract={contract}\n                currentUser={currentUser}\n                nearConfig={nearConfig}\n                wallet={wallet}\n                onLoading={setIsLoading}\n                onError={setError}\n              />\n            }\n          />\n        </Routes>\n      )}\n    </div>\n  );\n};\n\nApp.propTypes = {\n  contract: PropTypes.shape({\n    get_events_to_finalize: PropTypes.func.isRequired,\n    get_events: PropTypes.func.isRequired,\n    get_event: PropTypes.func.isRequired,\n    get_payouts: PropTypes.func.isRequired,\n    add_event: PropTypes.func.isRequired,\n    insert_participants: PropTypes.func.isRequired,\n    finalize_event: PropTypes.func.isRequired,\n  }).isRequired,\n  currentUser: PropTypes.shape({\n    accountId: PropTypes.string.isRequired,\n    balance: PropTypes.string.isRequired,\n  }),\n  nearConfig: PropTypes.shape({\n    contractName: PropTypes.string.isRequired,\n  }).isRequired,\n  wallet: PropTypes.shape({\n    requestSignIn: PropTypes.func.isRequired,\n    signOut: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default App;\n","// src/index.js\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport getConfig from \"./config.js\";\nimport * as nearAPI from \"near-api-js\";\nimport { HashRouter } from \"react-router-dom\";\n\n// Initializing contract\nasync function initContract() {\n  const nearConfig = getConfig(\"testnet\");\n\n  // Initializing connection to the NEAR TestNet\n  const near = await nearAPI.connect({\n    deps: {\n      keyStore: new nearAPI.keyStores.BrowserLocalStorageKeyStore(),\n    },\n    ...nearConfig,\n  });\n\n  // Needed to access wallet\n  const walletConnection = new nearAPI.WalletConnection(near);\n\n  // Load in account data\n  let currentUser;\n  if (walletConnection.getAccountId()) {\n    currentUser = {\n      accountId: walletConnection.getAccountId(),\n      balance: (await walletConnection.account().state()).amount,\n    };\n  }\n\n  // Initializing our contract APIs by contract name and configuration\n  const contract = await new nearAPI.Contract(\n    walletConnection.account(),\n    nearConfig.contractName,\n    {\n      viewMethods: [\n        \"get_event\",\n        \"get_events\",\n        \"get_events_to_finalize\",\n        \"get_payouts\",\n      ],\n      changeMethods: [\"add_event\", \"insert_participants\", \"finalize_event\"],\n      sender: walletConnection.getAccountId(),\n    }\n  );\n\n  return { contract, currentUser, nearConfig, walletConnection };\n}\n\nwindow.nearInitPromise = initContract().then(\n  ({ contract, currentUser, nearConfig, walletConnection }) => {\n    ReactDOM.render(\n      <HashRouter>\n        <App\n          contract={contract}\n          currentUser={currentUser}\n          nearConfig={nearConfig}\n          wallet={walletConnection}\n        />\n      </HashRouter>,\n      document.getElementById(\"root\")\n    );\n  }\n);\n","const CONTRACT_NAME =\n  process.env.CONTRACT_NAME || \"dev-1641421731569-38860898594754\";\n\nfunction getConfig(env) {\n  switch (env) {\n    case \"production\":\n    case \"mainnet\":\n      return {\n        networkId: \"mainnet\",\n        nodeUrl: \"https://rpc.mainnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.near.org\",\n        helperUrl: \"https://helper.mainnet.near.org\",\n        explorerUrl: \"https://explorer.mainnet.near.org\",\n      };\n    case \"development\":\n    case \"testnet\":\n      return {\n        networkId: \"testnet\",\n        nodeUrl: \"https://rpc.testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.testnet.near.org\",\n        helperUrl: \"https://helper.testnet.near.org\",\n        explorerUrl: \"https://explorer.testnet.near.org\",\n      };\n    case \"betanet\":\n      return {\n        networkId: \"betanet\",\n        nodeUrl: \"https://rpc.betanet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.betanet.near.org\",\n        helperUrl: \"https://helper.betanet.near.org\",\n        explorerUrl: \"https://explorer.betanet.near.org\",\n      };\n    case \"local\":\n      return {\n        networkId: \"local\",\n        nodeUrl: \"http://localhost:3030\",\n        keyPath: `${process.env.HOME}/.near/validator_key.json`,\n        walletUrl: \"http://localhost:4000/wallet\",\n        contractName: CONTRACT_NAME,\n      };\n    case \"test\":\n    case \"ci\":\n      return {\n        networkId: \"shared-test\",\n        nodeUrl: \"https://rpc.ci-testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        masterAccount: \"test.near\",\n      };\n    case \"ci-betanet\":\n      return {\n        networkId: \"shared-test-staging\",\n        nodeUrl: \"https://rpc.ci-betanet.near.org\",\n        contractName: CONTRACT_NAME,\n        masterAccount: \"test.near\",\n      };\n    default:\n      throw Error(\n        `Unconfigured environment '${env}'. Can be configured in src/config.js.`\n      );\n  }\n}\n\nmodule.exports = getConfig;\n","import moment from \"moment\";\nimport Big from \"big.js\";\nimport * as nearAPI from \"near-api-js\";\nimport getConfig from \"./config\";\n\nexport const formatDate = (date) => {\n  return date ? date.format(\"DD MMM yyyy HH:mm\") : \"\";\n};\n\nexport const toDate = (date) => {\n  const timestamp = Math.floor(date / 1000000).toFixed();\n  return moment(timestamp, \"x\");\n};\n\nexport const BOATLOAD_OF_GAS = Big(3)\n  .times(10 ** 13)\n  .toFixed();\n\nconst KeyCodes = {\n  comma: 188,\n  enter: 13,\n  space: 32,\n};\n\nexport const accountExist = async (accountId) => {\n  const connection = getNearAccountConnection();\n  if (accountId.length === 44) {\n    let key = new nearAPI.utils.PublicKey({\n      keyType: nearAPI.utils.key_pair.KeyType.ED25519,\n      data: Buffer.from(accountId, \"hex\"),\n    });\n    return !!key.toString();\n  }\n\n  try {\n    await new nearAPI.Account(connection, accountId).state();\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nfunction getNearAccountConnection() {\n  if (!window.connection) {\n    const config = getConfig(\"testnet\");\n    const provider = new nearAPI.providers.JsonRpcProvider(config.nodeUrl);\n    window.connection = new nearAPI.Connection(config.nodeUrl, provider, {});\n  }\n  return window.connection;\n}\n\nexport const delimiters = [KeyCodes.comma, KeyCodes.enter, KeyCodes.space];\n"],"sourceRoot":""}